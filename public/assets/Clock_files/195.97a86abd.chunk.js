(this.webpackJsonpdhiwise=this.webpackJsonpdhiwise||[]).push([[195],{2249:function(at,V,t){"use strict";t.d(V,"a",function(){return c});var L=t(0),e=t.n(L),i=t(275),Ee=t.n(i);const c=({data:G,popOverValue:n,className:ae,place:se,dropdownWrapClass:ne,style:re,onHover:Y=!1})=>{const[H,le]=e.a.useState(!1),p=e.a.useCallback(()=>{le(!H)});return e.a.createElement(e.a.Fragment,null,Y?e.a.createElement("div",{className:"cursor-pointer",onMouseLeave:p,onMouseEnter:p},e.a.createElement(Ee.a,{body:[e.a.createElement(e.a.Fragment,null,n)],style:re,isOpen:H,onOuterAction:p,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,place:se||null,className:`popupCustom ${ne}`},e.a.createElement("span",{className:ae},G))):e.a.createElement(Ee.a,{body:[e.a.createElement(e.a.Fragment,null,n)],style:re,isOpen:H,onOuterAction:p,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,place:se||null,className:`popupCustom ${ne}`},e.a.createElement("span",{className:ae,onClick:p},G)))}},2318:function(at,V,t){"use strict";t.d(V,"e",function(){return Ee}),t.d(V,"f",function(){return c}),t.d(V,"d",function(){return G}),t.d(V,"b",function(){return n}),t.d(V,"a",function(){return ae}),t.d(V,"c",function(){return se}),t.d(V,"g",function(){return ne}),t.d(V,"h",function(){return re});var L=t(9),e=t(4);const i=(Y,H)=>Object(L.a)(`${e.a.gitInteration.sync}/${Y}/${H}`,{},"GET"),Ee=Y=>Object(L.a)(`${e.a.gitInteration.list}`,Y),c=Y=>Object(L.a)(`${e.a.gitInteration.selectRepo}`,Y),G=Y=>Object(L.a)(`${e.a.gitInteration.gitDetail}/${Y}`,{},"GET"),n=(Y,H={})=>Object(L.a)(`${e.a.gitInteration.commitGitHubCode}`,Y,"POST",{},{},H),ae=Y=>Object(L.a)(`${e.a.gitInteration.addGitAccessToken}`,Y),se=(Y,H={})=>Object(L.a)(`${e.a.gitInteration.commitGitLabCode}`,Y,"POST",{},{},H),ne=Y=>Object(L.a)(`${e.a.gitInteration.syncSelfManageGit}`,Y),re=Y=>Object(L.a)(`${e.a.gitInteration.userWhiteList}/${Y}`,{},"PUT")},2323:function(at,V,t){"use strict";t.d(V,"a",function(){return L});const L={GIT_HUB:1,GIT_LAB:2,GIT_SELF_MANAGE:3}},2342:function(at,V,t){(function(L,e){at.exports=e()})(this,function(){"use strict";var L={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,i,Ee){var c=i.prototype,G=c.format;Ee.en.formats=L,c.format=function(n){n===void 0&&(n="YYYY-MM-DDTHH:mm:ssZ");var ae=this.$locale().formats,se=function(ne,re){return ne.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,H,le){var p=le&&le.toUpperCase();return H||re[le]||L[le]||re[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ve,k,_e){return k||_e.slice(1)})})}(n,ae===void 0?{}:ae);return G.call(this,se)}}})},2350:function(at,V,t){"use strict";V.a=t.p+"static/media/gitlab.5bd0cfd0.png"},2354:function(at,V,t){},2358:function(at,V,t){"use strict";t.d(V,"a",function(){return G});var L=t(0),e=t.n(L),i=t(3),Ee=t(7);const c=({title:n=""})=>e.a.createElement("div",{className:"flex items-center text-left"},e.a.createElement("div",{className:"w-3.5 h-3.5"},e.a.createElement(i.b.Check,{color:"var(--dhi-success-500)"})),e.a.createElement("div",{className:"text-b1 leading-5 text-high ml-2.5"},n)),G=({isGitHub:n=!1})=>e.a.createElement("div",null,e.a.createElement(Ee.H,{variant:"dhi_sub3",className:"sm:text-dhiInfo-400"},"Important Notes"),e.a.createElement("div",{className:"grid grid-cols-1 gap-2.5 mt-2.5"},e.a.createElement(c,{title:"Do not start the repository with a README file or other options. Keep it empty."}),e.a.createElement(c,{title:"The changes will be pushed to the root of the selected repository, using Pull Requests."}),e.a.createElement(c,{title:"The selected repository must be empty, please make sure that there won\u2019t be another branch created."}),!n&&e.a.createElement(c,{title:"For GitLab, all the functionality will be performed using a personal token."}),!n&&e.a.createElement(c,{title:"api scopes must be selected while generating the Personal Access Tokens."}),e.a.createElement(c,{title:"After expiry of the project, git information will be removed from DhiWise."})))},2383:function(at,V,t){"use strict";V.a=t.p+"static/media/github.1d646b28.png"},2436:function(at,V,t){"use strict";t.d(V,"a",function(){return _e});var L=t(0),e=t.n(L),i=t(140),Ee=t(3),c=t(7);const G=({isSelected:E,isSelect:D,isChange:$,variant:he="normal",linkUrl:be="",onLinkClick:S,name:f="",loading:s=!1,onSelectRepo:Le,isArchived:ee,isEmpty:M})=>e.a.createElement(e.a.Fragment,null,e.a.createElement(c.L,{variant:he,popupList:!0,className:"flex justify-between items-center"},e.a.createElement("div",{className:"flex-grow"},e.a.createElement(c.Q,{title:f}),!!be&&e.a.createElement(c.K,{onClick:()=>S(be)},be)),e.a.createElement("div",{className:"flex-grow-0"},E&&e.a.createElement(c.i,{variant:"outline",shape:"square",size:"medium"},"Selected"),D&&M&&e.a.createElement(c.i,{variant:"primary",shape:"square",size:"medium",loading:s,onClick:Le},"Select"),ee&&e.a.createElement(c.i,{variant:"outline",shape:"square",size:"medium",disabled:!0},"Archived"),$&&e.a.createElement(c.i,{variant:"primary",shape:"square",size:"medium"},"Change repository"),!M&&e.a.createElement(c.i,{variant:"outline",shape:"square",size:"medium",className:"ml-2",disabled:!0},"Not empty"))));var n=t(2318),ae=t(47),se=t(30),ne=t(556),Y=({rows:E})=>e.a.createElement(e.a.Fragment,null,Array(E||5).fill("").map(()=>e.a.createElement(ne.a,{speed:2,className:"mt-5",width:"100%",height:"50px",backgroundColor:"var(--dhi-surface2)",foregroundColor:"var(--dhi-surfacew2)"},e.a.createElement("rect",{x:"10",y:"5",rx:"3",ry:"3",width:"50%",height:"8"}),e.a.createElement("rect",{x:"10",y:"20",rx:"3",ry:"3",width:"70%",height:"10"}),e.a.createElement("rect",{x:"90%",y:"8",rx:"3",ry:"3",width:"5%",height:"16"})))),H=t(123),le=t(2323),p=t(11),ve=t(4),k=t(32);const _e=({isOpen:E,onClose:D,onDrawerClose:$,changeRespositroy:he,gitRepoDetails:be,gitType:S,addRepoUrl:f,isSecondaryBuild:s=!1,secondaryAppData:Le={}})=>{var ee,M,T;const{currentApplicationId:Re,currentProjectId:m,currentProjectDetail:Ke}=Object(k.d)(),[C,h,I]=Object(ae.a)(!1),[N,r,y]=Object(ae.a)(!1),[z,w]=e.a.useState([]),{addErrorToast:de,addSuccessToast:X}=Object(se.j)(),[_,oe]=e.a.useState(be),J=(ee=Ke.applicationList)==null?void 0:ee.find(u=>u._id===Re),[Dt,Pt]=e.a.useState(""),ht=Object(se.k)(H.a.GIT_INTEGRATION),[Ae,we]=e.a.useState(1),[nt,Fe]=e.a.useState(!1),Qe=p.a.get(ve.x),st=()=>{h(),Object(n.e)({projectId:m,page:Ae,limit:30}).then(u=>{var Ce;const Ie=Ae===1?[]:[...z];Ie.push(...u==null?void 0:u.data),w(Ie),((Ce=u==null?void 0:u.data)==null?void 0:Ce.length)<30?Fe(!0):Fe(!1)}).catch(de).finally(()=>I())};e.a.useEffect(()=>{st()},[Ae]);const me=u=>{window.open(u,"_blank")},qe=u=>{var Ce;Pt(u==null?void 0:u.id),r(),Object(n.f)({projectId:m,gitRepoDetails:u,applicationId:s?(Ce=Le==null?void 0:Le._id)!=null?Ce:Qe==null?void 0:Qe._id:Re}).then(Ie=>{var ot;X(Ie==null?void 0:Ie.message),oe((ot=Ie==null?void 0:Ie.data)==null?void 0:ot.gitRepoDetails),$()}).catch(Ie=>{de(Ie)}).finally(y)},b=()=>{w([]),Ae===1?st():we(1)};return e.a.createElement(i.a,{open:E,handleSubmit:D,onClose:$,handleCancel:D,ease:!0,level:null,handler:!1,placement:"right",wrapperClassName:"branch_select_drawer"},e.a.createElement(c.x,{onClick:D}),e.a.createElement(c.z,{title:he?`Change ${(M=J==null?void 0:J.displayName)!=null?M:J==null?void 0:J.name} repository`:`${(T=J==null?void 0:J.displayName)!=null?T:J==null?void 0:J.name}`,className:"xxl:block xl:block"},e.a.createElement(c.w,{className:"mt-2"},"The changes will be pushed to the selected repository, using Merge/Pull Requests.")),e.a.createElement("div",{className:"flex-grow flex flex-col h-0"},e.a.createElement("div",{className:"headTopSearch"},e.a.createElement("div",{className:"p-5 pb-0 flex justify-between items-center"},e.a.createElement(c.w,{variant:"dhi_b1",className:"flex items-center"},"Total"," ",S===le.a.GIT_HUB?"GitHub":"GitLab"," ","repository :"," ",(z==null?void 0:z.length)||0),e.a.createElement("div",{className:"flex items-center"},e.a.createElement(c.i.Icon,{tooltip:"Refresh",variant:"outline",size:"small",onClick:b},e.a.createElement(Ee.b.Refresh,null)),e.a.createElement(c.i.Icon,{tooltip:"Add repository",className:"ml-2",size:"small",onClick:()=>window.open(S===le.a.GIT_HUB?"https://github.com/new":S===le.a.GIT_LAB?"https://gitlab.com/projects/new#blank_project":f,"_blank")},e.a.createElement(Ee.b.Plus,{color:"#fff"}))))),e.a.createElement("div",{className:"pt-3 p-5 overflow-auto flex-grow h-full"},!C&&(z==null?void 0:z.length)===0?e.a.createElement(c.Y,null):e.a.createElement(e.a.Fragment,null,z.map(u=>{var Ce;return e.a.createElement(G,{key:u==null?void 0:u.id,isSelect:(ht==null?void 0:ht.UPDATE)&&(_==null?void 0:_.id)!==(u==null?void 0:u.id)&&!u.archived,linkUrl:S===le.a.GIT_HUB?u==null?void 0:u.html_url:u==null?void 0:u.http_url_to_repo,name:S===le.a.GIT_HUB?(Ce=u==null?void 0:u.full_name)!=null?Ce:u==null?void 0:u.name:u==null?void 0:u.path_with_namespace,loading:N&&u.id===Dt,onLinkClick:me,onSelectRepo:()=>qe(u),isSelected:(_==null?void 0:_.id)===(u==null?void 0:u.id),isArchived:u.archived,isEmpty:S===le.a.GIT_HUB?u.size===0:u.empty_repo})}),!C&&!nt&&e.a.createElement("span",{onClick:()=>we(Ae+1)},"Load more"),C&&e.a.createElement(Y,null)))))}},2457:function(at,V,t){"use strict";t.d(V,"a",function(){return be});var L=t(0),e=t.n(L),i=t(162),Ee=t(71),c=t(3),G=t(7),n=t(2318),ae=t(30),se=t(2323),ne=t(47),re=t(2358),Y=t(68),H=Object.defineProperty,le=Object.defineProperties,p=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,E=(S,f,s)=>f in S?H(S,f,{enumerable:!0,configurable:!0,writable:!0,value:s}):S[f]=s,D=(S,f)=>{for(var s in f||(f={}))k.call(f,s)&&E(S,s,f[s]);if(ve)for(var s of ve(f))_e.call(f,s)&&E(S,s,f[s]);return S},$=(S,f)=>le(S,p(f));const he={gitPrivateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"},domainUrl:{required:"Domain url is required."},userName:{required:"User name is required."},privateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"}},be=({isOpen:S,closeModal:f,projectId:s,onSubmit:Le})=>{const{addErrorToast:ee,addSuccessToast:M}=Object(ae.j)(),[T,Re,m]=Object(ne.a)(!1),[Ke,C]=e.a.useState("1"),[h,I]=e.a.useState(!1),N=X=>{C(X)},{handleSubmit:r,errors:y,control:z}=Object(i.e)({mode:"onChange"}),w=X=>{T||(Re(),Ke==="1"&&Object(n.a)(D({projectId:s,type:se.a.GIT_LAB},X)).then(_=>{var oe;(oe=_==null?void 0:_.data)!=null&&oe.isEmailUnVerified?I(!0):(M(_==null?void 0:_.message),Le(),f())}).catch(_=>{ee(_)}).finally(m),Ke==="2"&&Object(n.g)(D({projectId:s,type:se.a.GIT_SELF_MANAGE},X)).then(_=>{var oe;(oe=_==null?void 0:_.data)!=null&&oe.isEmailUnVerified?I(!0):(M(_==null?void 0:_.message),Le(),f())}).catch(_=>{ee(_)}).finally(m))},de=()=>{Object(Y.B)().then(X=>{M(X==null?void 0:X.message),I(!1)}).catch(X=>{ee(X)})};return e.a.createElement(G.db,{isOpen:S,closeModal:()=>{f()},title:"GitLab",submit:"Submit",cancel:"Cancel",handleCancel:()=>{f()},handleSubmit:r(w),bodyClass:"xxl:max-h-110 overflow-auto xl:max-h-96",submitLoading:T},e.a.createElement("div",null,e.a.createElement("div",{className:"mb-5"},e.a.createElement(re.a,null)),e.a.createElement("hr",{className:"border-r border-outline border-dashed mb-5"}),e.a.createElement(G.fb,{selectedValue:Ke,className:"flex gap-5",onChange:N},e.a.createElement(G.eb,{value:"1"},e.a.createElement("div",{className:"gap-1 flex items-center"},"GitLab SaaS",e.a.createElement("div",{"data-tip":!0,"data-for":"gitlab-saas"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(c.b.Info,null)),e.a.createElement(Ee.a,{id:"gitlab-saas",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you are using the GitLab service hosted on GitLab's cloud servers."))))),e.a.createElement(G.eb,{value:"2"},e.a.createElement("div",{className:"gap-1 flex items-center"},"Self-Managed",e.a.createElement("div",{"data-tip":!0,"data-for":"self-manage"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(c.b.Info,null)),e.a.createElement(Ee.a,{id:"self-manage",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you have installed GitLab on your own infrastructure.")))))),e.a.createElement("div",{className:"grid gap-5 mt-5"},Ke==="1"&&e.a.createElement("form",{onSubmit:r(w)},e.a.createElement(i.a,{name:"gitPrivateToken",control:z,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:X=>e.a.createElement(G.I.Text,$(D({},X),{placeholder:"Enter personal access token",label:"Personal access token",error:y.gitPrivateToken?he.gitPrivateToken[y.gitPrivateToken.type]:""}))})),Ke==="2"&&e.a.createElement("form",{onSubmit:r(w)},e.a.createElement(i.a,{name:"domainUrl",control:z,rules:{required:!0},defaultValue:"",render:X=>e.a.createElement(G.I.Text,$(D({},X),{placeholder:"Enter domain url",label:"Domain url",error:y.domainUrl?he.domainUrl[y.domainUrl.type]:""}))}),e.a.createElement(i.a,{name:"userName",control:z,rules:{required:!0},defaultValue:"",render:X=>e.a.createElement(G.I.Text,$(D({},X),{placeholder:"Enter username",label:"Username",error:y.userName?he.userName[y.userName.type]:""}))}),e.a.createElement(i.a,{name:"privateToken",control:z,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:X=>e.a.createElement(G.I.Text,$(D({},X),{placeholder:"Enter personal access token",label:"Personal access token",error:y.privateToken?he.privateToken[y.privateToken.type]:""}))})))),e.a.createElement(G.o,{size:"xxl:w-4/12 w-5/12",title:"Verify your email",isOpen:h,color:"default",closeModal:()=>{I(!1)},handleSubmit:de,shortDesc:e.a.createElement(e.a.Fragment,null,"Check promotion or spam folder in case you didn't get email in your inbox. Write to us at"," ",e.a.createElement(G.K,{link:"mailto:help@dhiwise.com",target:"_blank"},"help@dhiwise.com")," ","if you didn't receive an email or facing any issue."),description:"Woohoo! Great to see you here and you're just a step away to get all of it. Please verify your email address to perform this action.",okText:"Resend email verification link"}))}},2486:function(at,V,t){"use strict";t.d(V,"a",function(){return L});const L={productionWrap:"sm:w-10/12 xxl:w-10/12 flex-grow chartBox m-auto relative py-5",productionInner:"w-full py-5",productionBox:"w-full m-auto",productionHead:"px-2 py-3 flex justify-center items-center flex-shrink-0 hidden",productionLog:"w-full",productionLogHead:"border-1 border-b-0 rounded-t-3 py-2 border-outline flex flex-shrink-0 justify-between py-2 px-3 xxl:px-5 bg-surface2 items-center cursor-pointer",productionLogInner:"border-1 border-outline deploylog p-3 bg-surface2",logText:"block text-xs font-normal mb-1",logErrorText:"text-dhiDanger-400",logSuggest:"text-dhiWarning-50 ml-1"}},2533:function(at,V,t){"use strict";t.d(V,"a",function(){return m});var L=t(0),e=t.n(L),i=t(418),Ee=t.n(i),c=t(5),G=t.n(c),n=t(3),ae=t(109),se=t(35),ne=t(47),re=t(125),Y=t(198),H=t(30),le=t(7),p=t(230),ve=t(80),k=t(2),_e=t(593),E=t(110),D=t(8),$=t(32),he=t(52),be=Object.defineProperty,S=Object.defineProperties,f=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,M=(C,h,I)=>h in C?be(C,h,{enumerable:!0,configurable:!0,writable:!0,value:I}):C[h]=I,T=(C,h)=>{for(var I in h||(h={}))Le.call(h,I)&&M(C,I,h[I]);if(s)for(var I of s(h))ee.call(h,I)&&M(C,I,h[I]);return C},Re=(C,h)=>S(C,f(h));const m=C=>{var h,I,N,r;const[y,z,w]=Object(ne.a)(!1),[de,X]=e.a.useState(!1),{mixPanelTrack:_}=Object(p.a)(),{webengageTrackEvent:oe}=Object(ae.a)(),[J,Dt]=e.a.useState(""),[Pt,ht]=Object($.b)(),{currentApplicationId:Ae,currentProjectDetail:we,currentApplicationCode:nt,buildProjectData:Fe}=Pt,{userData:{status:Qe,isFakeEmail:st}}=Object(H.e)(),[me,qe,b]=Object(ne.a)(!1),u=(h=we==null?void 0:we.applicationList)==null?void 0:h.find(Se=>(Se==null?void 0:Se._id)===Ae),{addErrorToast:Ce}=Object(H.j)(),Ie=we==null?void 0:we.applicationList,ot=u==null?void 0:u.awsToken,yt=(I=Ie==null?void 0:Ie.find(Se=>(Se==null?void 0:Se._id)===Ae))==null?void 0:I.secondaryAppId,Ut=[k.c.androidFigma,k.c.flutter,k.c.IOS].includes(nt),Nt=!Object(c.isEmpty)(nt)&&nt===k.c.figmaReact,Ct={applicationType:(N=u==null?void 0:u.projectDefinition)==null?void 0:N.code},$e=Se=>{var et,je,ze,vt,Xe,Je;const dt=new Blob([Se==null?void 0:Se.data],{type:"application/zip"}),pt=window.URL.createObjectURL(dt),tt=document.createElement("a");tt.href=pt,tt.download=u!=null&&u.name?(je=(et=Fe==null?void 0:Fe.generatedProjectData)==null?void 0:et.versionNumber)!=null&&je.toString()?`${u==null?void 0:u.name}${`-v${(vt=(ze=Fe==null?void 0:Fe.generatedProjectData)==null?void 0:ze.semanticVersionNumber)!=null?vt:"1.0"}.${(Xe=Fe==null?void 0:Fe.generatedProjectData)==null?void 0:Xe.versionNumber}`}.zip`:`${u==null?void 0:u.name}.zip`:"application.zip",document.body.appendChild(tt),tt.click(),(Je=tt.parentNode)==null||Je.removeChild(tt),w()},Gt=(Se={})=>{var et,je;z();const vt=new i.S3(Re(T({},Object(c.pick)(Object(c.isEmpty)(Se)?ot:Se,["accessKeyId","secretAccessKey","sessionToken"])),{region:re.b})).getObject({Bucket:re.c,Key:`${Se.awsKeyPath||ot.awsKeyPath}/${(et=Ie.find(Je=>Je._id===Ae))==null?void 0:et.name}.zip`}).promise(),Xe=Re(T({applicationId:Ae},(Ut||Nt)&&{screens:((je=u==null?void 0:u.generatedIdData)==null?void 0:je.screenCount)||0}),{technology:D.f.TECHNOLOGY[nt],sourceCodeAction:D.f.SOURCE_CODE_ACTION.DOWNLOAD,generatorVersion:u==null?void 0:u.version});vt.then(Je=>{var dt,pt;if(Je){_(D.g.SOURCE_CODE,Re(T({},Xe),{executionStatus:D.f.EXECUTION_STATUS.SUCCESS})),oe(se.g.DOWNLOAD_CODE_COMPLETED,Re(T({},Xe),{applicationName:u==null?void 0:u.displayName})),(dt=C==null?void 0:C.hideExportPopup)==null||dt.call(C),Ct.downloadStatus="success",(pt=C==null?void 0:C.codeViewMixPanelLog)==null||pt.call(C);const tt="&isDownloadZip=true";Object(E.m)(Ae,tt).then(()=>{}).catch(()=>{}),$e({data:Je.Body}),w()}}).catch(Je=>{if((Je==null?void 0:Je.name)===re.a){const dt=Object(_e.b)(nt,Ae,yt);Object(Y.a)(dt).then(pt=>{ht(Object(he.f)({currentProject:{applications:Ie.map(tt=>tt._id===Ae?Re(T({},tt),{awsToken:pt.data.accessParam||{}}):tt)}})),Gt(pt.data.accessParam)}).catch(pt=>{Ce(pt),w()})}else _(D.g.SOURCE_CODE,Re(T({},Xe),{executionStatus:D.f.EXECUTION_STATUS.FAILED,reason:Je==null?void 0:Je.message})),Ce(Je.message),w()})},ke=()=>{Qe!==ve.h.VERIFIED?X(!0):st?qe():Gt()};return e.a.createElement(e.a.Fragment,null,C.dashboard?e.a.createElement(le.i,T({variant:"secondary",tooltip:"Download source code",className:"",leftIcon:e.a.createElement(n.b.Download,null),disabled:Object(c.isEmpty)(u==null?void 0:u.awsToken)||y,onClick:ke,shape:"square",loading:y},C),"Download source code"):C.fromExportCodePopup?e.a.createElement(le.i,T({size:"medium",variant:C.variant||"coolgray",shape:"square",className:C.className,leftIcon:e.a.createElement(n.b.Download,null),disabled:Object(c.isEmpty)(u==null?void 0:u.awsToken)||y,onClick:ke,loading:y},C),(r=C==null?void 0:C.label)!=null?r:"Download"):e.a.createElement(le.i.Icon,T({variant:"secondary",tooltip:"Download source code",className:"",disabled:Object(c.isEmpty)(u==null?void 0:u.awsToken)||y,onClick:ke,shape:"square",loading:y},C),e.a.createElement(n.b.DownloadFolder,null)),e.a.createElement(le.o,{isOpen:me,handleSubmit:()=>b(),title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),e.a.createElement(le.o,{title:"",description:J,isOpen:!!J,handleSubmit:()=>Dt(""),color:"default",okText:"Ok"}),e.a.createElement(le.B,{isOpen:de,closeModal:()=>{X(!1)}}))};var Ke=m},2534:function(at,V,t){"use strict";t.d(V,"a",function(){return p});var L=t(0),e=t.n(L),i=t(140),Ee=t(330),c=t.n(Ee),G=t(5),n=t.n(G),ae=t(2486),se=t(7),ne=t(47),re=t(30),Y=t(21),H=t(420),le=t(32);const p=({displayLogRef:ve,isDrawer:k=!0,deployType:_e,hideLogParent:E})=>{var D,$,he,be;const[S,f,s]=Object(ne.a)(!1),{sseRequest:Le,sseResponse:ee,sseTerminate:M}=Object(re.i)(),{currentApplicationId:T,currentProjectDetail:Re}=Object(le.d)(),m=(be=(he=($=(D=Re==null?void 0:Re.applicationList)==null?void 0:D.find(_=>_._id===T))==null?void 0:$.output)==null?void 0:he.production)==null?void 0:be.stateStatus,[Ke,C]=e.a.useState([]),[h,I,N]=Object(ne.a)(!1),[r,y,z]=Object(ne.a)(!1),w=e.a.useRef(!1);e.a.useImperativeHandle(ve,()=>({setLog:f,hideLog:s}));const de=()=>{C([]),y(),h&&(w.current=!0,N()),Le({url:`${_e===H.a.PRODUCTION?Y.a.nodeDeployProduction.getLog:Y.a.nodeDeploy.getLog}?applicationId=${T}`})};e.a.useEffect(()=>{(S||!k)&&![H.b.TERMINATE_SERVER,H.b.STOP_SERVER].includes(m)?(E&&E.current&&E.current.hideLog(),de()):(M&&M(),C([])),w.current=!1},[S]),e.a.useEffect(()=>{(ee==null?void 0:ee.type)==="exit"&&(I(),z()),ee!=null&&ee.data&&(C(_=>[..._,ee==null?void 0:ee.data]),z())},[ee]);const X=()=>e.a.createElement(e.a.Fragment,null,r&&e.a.createElement("div",{className:ae.a.logText},"processing....."),!r&&!Object(G.isEmpty)(Ke)&&Ke.map(_=>e.a.createElement("div",{className:ae.a.logText,dangerouslySetInnerHTML:{__html:c.a.sanitize(_)}})),!r&&Object(G.isEmpty)(Ke)&&e.a.createElement("div",{className:ae.a.logText},"There is no production deploy log."));return e.a.createElement(e.a.Fragment,null,k?e.a.createElement(i.a,{open:S,handleSubmit:s,onClose:s,handleCancel:s,level:null,showMask:!1,handler:!1,placement:"bottom",wrapperClassName:"w-sidebarRight deployLogDrawer"},e.a.createElement(se.x,{onClick:s}),e.a.createElement("div",{className:"flex flex-shrink-0 justify-between pr-10 py-2 px-3 border-b border-outline items-center bg-surface2"},e.a.createElement(se.H,{variant:"dhi_sub2"},`${_e===H.a.PRODUCTION?"Production":"Sandbox"}`," ","deploy log"),e.a.createElement("div",{className:""},e.a.createElement(se.i,{variant:"coolgray",size:"medium",shape:"square",disabled:!h,onClick:_=>{de(),_.stopPropagation()}},"Refresh log"))),e.a.createElement("div",{className:"deploylog h-60 xxl:h-72 overflow-auto p-3"},e.a.createElement(X,null))):e.a.createElement("div",{className:ae.a.productionLog},e.a.createElement("div",{className:ae.a.productionLogHead,onClick:S?s:f},e.a.createElement(se.H,{variant:"dhi_sub2"},"Production deploy log"),e.a.createElement("div",{className:"flex items-center"},(S||!k)&&e.a.createElement(se.i,{variant:"coolgray",size:"medium",shape:"square",disabled:!h,onClick:_=>{de(),_.stopPropagation()}},"Refresh log"))),e.a.createElement("div",{className:`${ae.a.productionLogInner} "deploylog h-60 xxl:h-72 overflow-auto p-3"`},e.a.createElement(X,null))))}},2650:function(at,V,t){"use strict";t.d(V,"a",function(){return c});var L=t(0),e=t.n(L),i=t(140),Ee=t(7);const c=({isOpen:G,onClose:n=()=>{},errorLog:ae="",title:se="Error Log"})=>e.a.createElement("div",null,e.a.createElement(i.a,{open:G,handleSubmit:n,onClose:n,handleCancel:n,ease:!0,level:null,handler:!1,placement:"right",wrapperClassName:""},e.a.createElement(Ee.x,{onClick:n}),e.a.createElement(Ee.z,{title:se}),e.a.createElement(Ee.m,{value:ae,readOnly:!0})))},2656:function(at,V,t){"use strict";(function(L){t.d(V,"a",function(){return X});var e=t(2383),i=t(2350),Ee=t(73),c=t.n(Ee),G=t(0),n=t.n(G),ae=t(275),se=t.n(ae),ne=t(3),re=t(5),Y=t.n(re),H=t(35),le=t(109),p=t(4),ve=t(2318),k=t(7),_e=t(2358),E=t(47),D=t(30),$=t(11),he=t(2436),be=t(2657),S=t(2457),f=t(2323),s=t(123),Le=t(80),ee=t(2),M=t(230),T=t(8),Re=t(2249),m=t(32),Ke=Object.defineProperty,C=Object.defineProperties,h=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,y=(_,oe,J)=>oe in _?Ke(_,oe,{enumerable:!0,configurable:!0,writable:!0,value:J}):_[oe]=J,z=(_,oe)=>{for(var J in oe||(oe={}))N.call(oe,J)&&y(_,J,oe[J]);if(I)for(var J of I(oe))r.call(oe,J)&&y(_,J,oe[J]);return _},w=(_,oe)=>C(_,h(oe));const de=t(2342);c.a.extend(de);const X=({isDashboard:_,isSecondaryBuild:oe=!1,secondaryAppData:J={},codeViewMixPanelLog:Dt=()=>{}})=>{var Pt,ht,Ae,we;const{currentApplicationCode:nt,currentApplicationId:Fe,currentProjectId:Qe,currentProjectDetail:st}=Object(m.d)(),[me,qe]=Object(G.useState)(!1),[b,u]=Object(G.useState)({}),[Ce,Ie,ot]=Object(E.a)(!1),[yt,Ut,Nt]=Object(E.a)(!1),[Ct,$e,Gt]=Object(E.a)(!1),{addErrorToast:ke}=Object(D.j)(),[Se,et,je]=Object(E.a)(!1),[ze,vt]=Object(G.useState)(f.a.GIT_HUB),Xe=Object(D.k)(s.a.GIT_INTEGRATION),{userData:{status:Je,isFakeEmail:dt}}=Object(D.e)(),[pt,tt,va]=Object(E.a)(!1),[pa,_a]=Object(G.useState)(""),{mixPanelTrack:Kt}=Object(M.a)(),{webengageTrackEvent:It}=Object(le.a)(),Ze=(Pt=st==null?void 0:st.applicationList)==null?void 0:Pt.find(it=>(it==null?void 0:it._id)===Fe),Jt=[ee.c.androidFigma,ee.c.flutter,ee.c.IOS].includes(nt),Mt=!Object(re.isEmpty)(nt)&&nt===ee.c.figmaReact,[na,xt]=Object(G.useState)(!1),[da,wt]=n.a.useState(!1),[Ta,la,oa]=Object(E.a)(!1),[ia,$t]=n.a.useState(""),[fa,kt]=n.a.useState(!1),sa=new URLSearchParams(window.location.search),Ye=$.a.get(p.x),jt=sa.get("isSecondaryBuild"),bt=()=>{var it;Ut(),Object(ve.d)(oe?(it=J==null?void 0:J._id)!=null?it:Ye==null?void 0:Ye._id:Fe).then(Et=>{var Ft,At;u(Et==null?void 0:Et.data),vt((Ft=Et==null?void 0:Et.data)==null?void 0:Ft.gitConfiguredType),_a((At=Et==null?void 0:Et.data)==null?void 0:At.domainUrl)}).catch(ke).finally(Nt)};n.a.useEffect(()=>{bt()},[]);const Bt=()=>{qe(!0)},Zt=()=>{bt(),qe(!1),xt(!1)},De=it=>{it?$e():Gt()},Ea=()=>{if(De(!1),Je!==Le.h.VERIFIED)wt(!0);else if(dt)la();else{let it=window.location.pathname.split("/").slice(1).join("_");jt&&(it+="_$isSecondaryBuild=true");const Et=$.a.get(p.c);window.location.href=`${p.a.gitInteration.sync}/${Qe}/${Et}/${it}`}},ba=()=>{var it,Et,Ft;if(Je!==Le.h.VERIFIED)wt(!0);else if(dt)la();else{Ie();const At=w(z({applicationId:Fe},(Jt||Mt)&&{screens:((it=Ze==null?void 0:Ze.generatedIdData)==null?void 0:it.screenCount)||0}),{technology:T.f.TECHNOLOGY[nt]});if(ze===f.a.GIT_HUB){const Qt=$.a.get(p.c);Object(ve.b)({companyId:Qt,projectId:Qe,applicationId:oe?(Et=J==null?void 0:J._id)!=null?Et:Ye==null?void 0:Ye._id:Fe}).then(ye=>{const qt=z(z({},b),ye==null?void 0:ye.data);u(qt),Dt(),ye!=null&&ye.message&&($t(ye==null?void 0:ye.message),kt(!0)),Kt(T.g.SOURCE_CODE,w(z({},At),{executionStatus:T.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:T.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Ze==null?void 0:Ze.version})),It(H.g.DOWNLOAD_CODE_COMPLETED,w(z({},At),{sourceCodeAction:T.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Ze==null?void 0:Ze.version}))}).catch(ye=>{ye&&($t(ye),kt(!0)),bt(),Kt(T.g.SOURCE_CODE,w(z({},At),{executionStatus:T.f.EXECUTION_STATUS.FAILED,sourceCodeAction:T.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:Ze==null?void 0:Ze.version,reason:ye}))}).finally(ot)}else{const Qt=$.a.get(p.c);Object(ve.c)({companyId:Qt,projectId:Qe,applicationId:oe?(Ft=J==null?void 0:J._id)!=null?Ft:Ye==null?void 0:Ye._id:Fe}).then(ye=>{const qt=z(z({},b),ye.data);u(qt),Dt(),ye!=null&&ye.message&&($t(ye==null?void 0:ye.message),kt(!0)),Kt(T.g.SOURCE_CODE,w(z({},At),{executionStatus:T.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:T.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Ze==null?void 0:Ze.version})),It(H.g.DOWNLOAD_CODE_COMPLETED,w(z({},At),{sourceCodeAction:T.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Ze==null?void 0:Ze.version}))}).catch(ye=>{ye&&($t(ye),kt(!0)),bt(),Kt(T.g.SOURCE_CODE,w(z({},At),{executionStatus:T.f.EXECUTION_STATUS.FAILED,sourceCodeAction:T.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:Ze==null?void 0:Ze.version,reason:ye}))}).finally(ot)}}},La=()=>{Je!==Le.h.VERIFIED?wt(!0):dt?la():et()},Ca=()=>{tt(),Object(ve.h)(Qe).then(()=>{bt()}).catch(it=>{ke(it),bt()}).finally(va)},[Ia,Sa]=n.a.useState(!1),Oa=n.a.useCallback(()=>{Sa(!Ia)}),ua=()=>{var it,Et,Ft,At,Qt,ye,qt,ga;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:""},!_&&n.a.createElement(n.a.Fragment,null,ze===f.a.GIT_HUB?n.a.createElement("div",{className:"flex items-center mb-2"},n.a.createElement(k.d,{variant:"none",source:e.a,size:"xs"}),n.a.createElement(k.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitHub")):n.a.createElement("div",{className:"flex items-center mb-2"},n.a.createElement(k.d,{imageClass:"xl:object-contain xxl:object-contain",variant:"none",source:i.a,size:"xxs"}),n.a.createElement(k.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitLab"))),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("div",{className:"text-b1 text-medium mr-2"},"Branch name:"),n.a.createElement(k.Q,{smallTitle:`${ze===f.a.GIT_HUB?(it=b==null?void 0:b.gitRepoDetails)==null?void 0:it.full_name:(Et=b==null?void 0:b.gitRepoDetails)==null?void 0:Et.path_with_namespace}`})),n.a.createElement("div",{className:"flex items-center mt-2"},n.a.createElement("div",{className:"text-b1 text-medium mr-2 whitespace-nowrap"},"Repo URL:"),n.a.createElement(k.K,{className:`truncate text-b1 block ${_?"w-full":"ml-2"}`,onClick:()=>{var Pa,_t;return window.open(ze===f.a.GIT_HUB?(Pa=b==null?void 0:b.gitRepoDetails)==null?void 0:Pa.html_url:(_t=b==null?void 0:b.gitRepoDetails)==null?void 0:_t.http_url_to_repo,"_blank")}},ze===f.a.GIT_HUB?(Ft=b==null?void 0:b.gitRepoDetails)==null?void 0:Ft.html_url:(At=b==null?void 0:b.gitRepoDetails)==null?void 0:At.http_url_to_repo)),((Qt=b==null?void 0:b.gitSyncLog)==null?void 0:Qt.createdAt)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"flex items-center mt-2"},n.a.createElement("div",{className:"text-b1 text-medium mr-2 whitespace-nowrap"},"Date:"),n.a.createElement("div",{className:"text-b1 text-high"},c()((ye=b==null?void 0:b.gitSyncLog)==null?void 0:ye.createdAt).format("ll"))),n.a.createElement("div",{className:"flex items-center mt-2"},n.a.createElement("div",{className:"text-b1 text-medium mr-2 whitespace-nowrap"},"Time:"),n.a.createElement("div",{className:"text-b1 text-high"},c()((qt=b==null?void 0:b.gitSyncLog)==null?void 0:qt.createdAt).format("LT"))))),n.a.createElement("div",{className:`flex-grow-0 flex-shrink flex ${_?"mt-2 flex-wrap":"mt-3"}`},!((ga=b==null?void 0:b.gitSyncLog)!=null&&ga.createdAt)&&(Xe==null?void 0:Xe.VIEW)&&n.a.createElement(k.i,{variant:"outline",className:`${_?"w-full mb-2":"w-5/12 mr-2"}`,shape:"square",size:"small",onClick:()=>{xt(!0),Bt()}},"Change repository"),(Xe==null?void 0:Xe.UPDATE)&&n.a.createElement(k.i,{color:"success",className:`${_?"w-full":"w-5/12"}`,shape:"square",size:"medium",onClick:ba,loading:Ce,disabled:Ce},"Commit")))};return n.a.createElement("div",{className:`flex ${_&&"w-full"}`},n.a.createElement("div",{variant:"flat",popupList:!0,className:`justify-between items-center ${_?"w-full":"flex "}`},_&&(b==null?void 0:b.isGitConfigured)&&n.a.createElement(k.H,{variant:"dhi_sub4",className:"mb-1"},"Synced with"," ",ze===f.a.GIT_HUB?n.a.createElement("div",{className:"flex items-center mb-2  mt-2"},n.a.createElement("div",{className:"flex items-center cursor-pointer"},n.a.createElement("img",{variant:"none",src:e.a,className:"w-6 h-6",size:"xxs",alt:""})),n.a.createElement(k.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitHub")):n.a.createElement("div",{className:"flex items-center mb-2  mt-2"},n.a.createElement("div",{className:"flex items-center cursor-pointer"},n.a.createElement("img",{className:"w-6 h-6 object-contain",variant:"none",src:i.a,size:"xxs",alt:""})),n.a.createElement(k.H,{variant:"dhi_sub2",className:"ml-2 font-bold"},"GitLab"))),yt?n.a.createElement(be.a,null):(b==null?void 0:b.gitRepoDetails)&&((ht=L==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"UA-189637145-1",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:ht.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?n.a.createElement(n.a.Fragment,null,_?n.a.createElement(ua,null):n.a.createElement(Re.a,{dropdownWrapClass:"w-96 git-popup",place:"above",data:n.a.createElement(n.a.Fragment,null,n.a.createElement(k.i,{variant:"primary",className:"ml-2",size:"medium",rightIcon:n.a.createElement(ne.b.DownArrow,null)},"Git info & commit")),popOverValue:n.a.createElement(ua,null)})):n.a.createElement("div",{className:"flex justify-between items-center"},!(b!=null&&b.isGitConfigured)&&((Ae=L==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"UA-189637145-1",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:Ae.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?n.a.createElement("div",{className:_?"":"flex flex-wrap items-center "},!_&&n.a.createElement("hr",{className:"w-0.5 h-6 bg-dhiGray-400 sm:border-0 mx-3"}),n.a.createElement(k.H,{variant:"dhi_b1",className:"mr-3"},"Sync with:"),n.a.createElement("div",{className:`flex items-center flex-wrap ${!_&&"bg-dhiPrimary-500 rounded-3 px-3 py-1"} ${_&&"mt-2"}`},n.a.createElement("div",{className:"mr-3",onClick:()=>De(!0)},n.a.createElement("div",{className:"flex items-center cursor-pointer"},n.a.createElement("img",{variant:"none",src:e.a,className:"w-6 h-6",size:"xxs",alt:""}))),n.a.createElement("div",{className:"mr-3",onClick:()=>La()},n.a.createElement("div",{className:"flex items-center cursor-pointer"},n.a.createElement("img",{className:"w-6 h-6 object-contain",variant:"none",src:i.a,size:"xxs",alt:""}))),n.a.createElement(se.a,{body:[n.a.createElement(_e.a,null)],isOpen:Ia,onOuterAction:Oa,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,place:"left",className:"popupCustom"},n.a.createElement("div",{className:"w-3.5 h-3.5 cursor-pointer",onClick:Oa},n.a.createElement(ne.b.Info,null))))):(Xe==null?void 0:Xe.VIEW)&&((we=L==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"UA-189637145-1",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:we.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"&&n.a.createElement("div",{className:!_&&"ml-2 flex items-center"},n.a.createElement(k.Q,{smallTitle:ze===f.a.GIT_SELF_MANAGE&&!(b!=null&&b.isWhitelisted)?"Please whitelist our IP for further process":""}),ze===f.a.GIT_SELF_MANAGE&&!(b!=null&&b.isWhitelisted)?n.a.createElement(k.i,{onClick:Ca,loading:pt,variant:"outline",className:"ml-1",size:"medium",shape:"square"},"Whitelist"):n.a.createElement(k.i,{onClick:Bt,variant:"primary",size:"medium",shape:"square"},"Select git repository")))),n.a.createElement(S.a,{isOpen:Se,closeModal:je,projectId:Qe,onSubmit:bt,applicationCode:nt}),me&&n.a.createElement(he.a,{isOpen:me,onClose:Zt,onDrawerClose:Zt,gitRepoDetails:b==null?void 0:b.gitRepoDetails,gitType:ze,addRepoUrl:pa,isChangeRepo:na,isSecondaryBuild:oe,secondaryAppData:J}),n.a.createElement(k.o,{isOpen:Ta,handleSubmit:oa,title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),n.a.createElement(k.B,{isOpen:da,closeModal:()=>{wt(!1)}}),n.a.createElement(k.o,{isOpen:Ct,handleSubmit:()=>{De(!1),Ea(Qe)},title:"",color:"default",size:"sm:w-5/12",okText:"OK"},n.a.createElement(_e.a,{isGitHub:!0})),n.a.createElement(k.o,{isOpen:fa,handleSubmit:()=>kt(!1),title:"Git Commit",color:"default",size:"w-5/12 xxl:w-3/12",description:ia,okText:"OK"}))}}).call(this,t(56))},2657:function(at,V,t){"use strict";var L=t(0),e=t.n(L),i=t(556);const Ee=({rows:c})=>e.a.createElement("div",{className:"flex justify-end"},Array(c||2).fill("").map(()=>e.a.createElement(i.a,{speed:2,className:"",width:"50",height:"30",backgroundColor:"var(--dhi-surface2)",foregroundColor:"var(--dhi-surfacew2)"},e.a.createElement("circle",{cx:"20",cy:"15",r:"15"}))));V.a=Ee},2748:function(at,V,t){"use strict";var L=t(0),e=t.n(L),i=t(3),Ee=t(73),c=t.n(Ee),G=t(5),n=t(35),ae=t(109),se=t(21),ne=t(7),re=t(47),Y=t(420),H=t(8),le=t(2),p=t(30),ve=t(230),k=t(594),_e=t(2534),E=t(188),D=t(32),$=t(52),he=Object.defineProperty,be=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,ee=(h,I,N)=>I in h?he(h,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):h[I]=N,M=(h,I)=>{for(var N in I||(I={}))s.call(I,N)&&ee(h,N,I[N]);if(f)for(var N of f(I))Le.call(I,N)&&ee(h,N,I[N]);return h},T=(h,I)=>be(h,S(I));function Re({setMainLoader:h,mainLoadingState:I,productionLogRef:N,sandBoxLogRef:r}){var y,z,w,de,X,_,oe;const[J,Dt,Pt]=Object(re.a)(I||!1),[ht,Ae]=e.a.useState(!0),we=e.a.useRef(),[nt,Fe]=Object(D.b)(),{currentApplicationId:Qe,currentProjectDetail:st,currentApplicationCode:me,buildProjectData:qe}=nt,b=st==null?void 0:st.applicationList,u=(y=st==null?void 0:st.applicationList)==null?void 0:y.find(ke=>ke._id===Qe),Ce=!Object(G.isEmpty)(me)&&me===le.c.nodeExpress,{sandBoxUrl:Ie,isUrlExpire:ot}={sandBoxUrl:(w=(z=u==null?void 0:u.output)==null?void 0:z.sandbox)==null?void 0:w.domainName,isUrlExpire:(X=(de=u==null?void 0:u.output)==null?void 0:de.sandbox)!=null&&X.currentTime?c()().diff((oe=(_=u==null?void 0:u.output)==null?void 0:_.sandbox)==null?void 0:oe.currentTime,"h")>4:!1},{addErrorToast:yt}=Object(p.j)(),{mixPanelTrack:Ut}=Object(ve.a)(),{webengageTrackEvent:Nt}=Object(ae.a)(),Ct=ke=>{const Se=b==null?void 0:b.map(et=>(et==null?void 0:et._id)===Qe?T(M({},et),{output:T(M({},et.output),{isBuildDeployToProduction:!1,isBuildDeployToSandBox:!0,sandbox:T(M({},ke),{currentTime:new Date().getTime()})})}):et);Fe(Object($.f)({currentProject:{applications:Se}}))},$e=()=>{var ke,Se;const et={applicationId:Qe,buildVersion:`${(ke=qe==null?void 0:qe.generatedProjectData)==null?void 0:ke.semanticVersionNumber}.${(Se=qe==null?void 0:qe.generatedProjectData)==null?void 0:Se.versionNumber}`,technology:H.f.TECHNOLOGY[me]};Dt(),h(!0),Object(se.b)(se.a.nodeDeploy.sandBox,{applicationId:Qe,isMockData:ht}).then(je=>{setTimeout(()=>{var ze,vt;Pt(),h(!1),Ct(je==null?void 0:je.data),Object(k.b)(T(M({},u),{output:T(M({},u.output),{isBuildDeployToProduction:!1,isBuildDeployToSandBox:!0,sandbox:T(M({},je==null?void 0:je.data),{currentTime:new Date().getTime()})})})),Ut(H.g.DEPLOY_APP,T(M({},et),{deployOn:H.f.DEPLOY_ON.SANDBOX,executionStatus:H.f.EXECUTION_STATUS.SUCCESS})),Nt(n.g.DEPLOY_APP_COMPLETED,T(M({},et),{deployOn:H.f.DEPLOY_ON.SANDBOX,executionStatus:H.f.EXECUTION_STATUS.SUCCESS})),(ze=je==null?void 0:je.data)!=null&&ze.domainName&&window.open(`https://${(vt=je==null?void 0:je.data)==null?void 0:vt.domainName}/${Ce?"swagger":""}`)},4e3)}).catch(je=>{Pt(),h(!1),Ut(H.g.DEPLOY_APP,T(M({},et),{deployOn:H.f.DEPLOY_ON.SANDBOX,executionStatus:H.f.EXECUTION_STATUS.FAILED,reason:je})),Ct({}),yt(je)})},Gt=()=>{var ke;(ke=we.current)==null||ke.hideLog()};return e.a.useImperativeHandle(r,()=>({hideLog:Gt}),[]),e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"w-full"},e.a.createElement("div",{className:"flex items-center"},e.a.createElement(ne.H,{variant:"dhi_sub3",className:"flex-grow flex"},e.a.createElement("div",{className:"w-5 h-5 mr-2"},e.a.createElement(i.b.CodeSandBox,null)),"Deploy on sandbox"),e.a.createElement(ne.i.Icon,{size:"small",className:"ml-2 flex-shrink-0",color:J?"default":"success",loading:J,onClick:!J&&$e},e.a.createElement(i.b.Play,null))),e.a.createElement("div",{className:"ml-6 mt-1"},e.a.createElement(ne.w,null,"Test your APIs before taking it to live."),!Ce&&e.a.createElement("div",{className:"mt-3"},e.a.createElement(E.a,{checked:ht,onChange:ke=>Ae(ke)},e.a.createElement("span",{className:"text-sub3"}," With mock data ?")))),!J&&Ie&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"bg-surface2 border-1 border-outline py-1.5 px-2 flex items-center rounded-3 mt-2"},e.a.createElement(ne.K,{onClick:()=>{ot||window.open(`https://${Ie}/${Ce?"swagger":""}`)},className:`flex-grow sm:text-sm ${ot&&"line-through hover:line-through"}`},Ie),!ot&&e.a.createElement(ne.q,{size:"small",copyData:`https://${Ie}`})),ot&&e.a.createElement("div",{className:"text-dhiDanger-400 text-base mt-2"},"This link is expired. Please deploy again."))),!J&&Ie&&!ot&&e.a.createElement("div",{className:"flex justify-between w-full mt-2"},e.a.createElement("div",{onClick:()=>{we.current.setLog()},className:"text-dhiSecondary-400 text-sm mt-1 underline cursor-pointer"},"View log")),e.a.createElement(_e.a,{displayLogRef:we,deployUrl:Ie,deployType:Y.a.SANDBOX,hideLogParent:N}))}var m=Re;function Ke({isDashboard:h=!1,setMainLoader:I=()=>{},mainLoadingState:N=!1}){const r=e.a.useRef(""),y=e.a.useRef("");return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:`${h&&"pb-3 px-2 pt-0 flex flex-wrap"}`},e.a.createElement(m,{productionLogRef:r,sandBoxLogRef:y,setMainLoader:I,mainLoadingState:N})))}var C=V.a=Ke},3767:function(at,V,t){"use strict";(function(L){t.d(V,"a",function(){return I});var e=t(0),i=t.n(e),Ee=t(73),c=t.n(Ee),G=t(5),n=t.n(G),ae=t(2383),se=t(2350),ne=t(35),re=t(109),Y=t(2318),H=t(80),le=t(2358),p=t(7),ve=t(2323),k=t(123),_e=t(30),E=t(32),D=t(2),$=t(8),he=t(11),be=t(4),S=t(230),f=t(2436),s=t(3768),Le=Object.defineProperty,ee=Object.defineProperties,M=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,Ke=(N,r,y)=>r in N?Le(N,r,{enumerable:!0,configurable:!0,writable:!0,value:y}):N[r]=y,C=(N,r)=>{for(var y in r||(r={}))Re.call(r,y)&&Ke(N,y,r[y]);if(T)for(var y of T(r))m.call(r,y)&&Ke(N,y,r[y]);return N},h=(N,r)=>ee(N,M(r));const I=({isSecondaryBuild:N=!1,gitConfigStatus:r={},secondaryAppData:y={},getGitIntegrationDetails:z=()=>{},setGitConfigStatus:w=()=>{},closeExportCodePopup:de=()=>{},setGitSyncPending:X=()=>{},setGitSyncCompleted:_=()=>{},codeViewMixPanelLog:oe=()=>{}})=>{var J,Dt,Pt,ht,Ae,we,nt,Fe,Qe,st,me,qe;const{currentApplicationCode:b,currentApplicationId:u,currentProjectId:Ce,currentProjectDetail:Ie}=Object(E.d)(),[ot,yt]=i.a.useState(!1),[Ut,Nt]=i.a.useState(!1),Ct=he.a.get(be.x),$e=(J=Ie==null?void 0:Ie.applicationList)==null?void 0:J.find(Ye=>(Ye==null?void 0:Ye._id)===u),Gt=[D.c.androidFigma,D.c.flutter,D.c.IOS].includes(b),ke=!Object(G.isEmpty)(b)&&b===D.c.figmaReact,[Se,et,je]=Object(_e.a)(!1),[ze,vt,Xe]=Object(_e.a)(!1),[Je,dt,pt]=Object(_e.a)(!1),[tt,va,pa]=Object(_e.a)(!1),[_a,Kt,It]=Object(_e.a)(!1),{mixPanelTrack:Ze}=Object(S.a)(),{webengageTrackEvent:Jt}=Object(re.a)(),{userData:{status:Mt,isFakeEmail:na}}=Object(_e.e)(),xt=Object(_e.k)(k.a.GIT_INTEGRATION),{addSuccessToast:da,addErrorToast:wt}=Object(_e.j)(),la=new URLSearchParams(window.location.search).get("isSecondaryBuild"),oa=()=>{dt(),X()},ia=()=>{z(),pt(),yt(!1)},$t=()=>{if(Mt!==H.h.VERIFIED)Nt(!0);else if(na)Kt();else{let Ye=window.location.pathname.split("/").slice(1).join("_");la?Ye+="_$isSecondaryBuild=true__openDownloadCode=true":Ye+="_$openDownloadCode=true";const jt=he.a.get(be.c);window.location.href=`${be.a.gitInteration.sync}/${Ce}/${jt}/${Ye}`}},fa=()=>{Mt!==H.h.VERIFIED?Nt(!0):na?Kt():(X(),et())},kt=()=>{var Ye,jt,bt;if(Mt!==H.h.VERIFIED)Nt(!0);else if(na)Kt();else{vt(),_();const Bt=h(C({applicationId:u},(Gt||ke)&&{screens:((Ye=$e==null?void 0:$e.generatedIdData)==null?void 0:Ye.screenCount)||0}),{technology:$.f.TECHNOLOGY[b]});if((r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB){const Zt=he.a.get(be.c);Object(Y.b)({companyId:Zt,projectId:Ce,applicationId:N?(jt=y==null?void 0:y._id)!=null?jt:Ct==null?void 0:Ct._id:u}).then(De=>{const Ea=C(C({},r),De==null?void 0:De.data);w(Ea),oe(),De!=null&&De.message&&da(De==null?void 0:De.message),de(),Ze($.g.SOURCE_CODE,h(C({},Bt),{executionStatus:$.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:$.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:$e==null?void 0:$e.version})),Jt(ne.g.DOWNLOAD_CODE_COMPLETED,h(C({},Bt),{sourceCodeAction:$.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:$e==null?void 0:$e.version}))}).catch(De=>{De&&wt(De),z(),Ze($.g.SOURCE_CODE,h(C({},Bt),{executionStatus:$.f.EXECUTION_STATUS.FAILED,sourceCodeAction:$.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:$e==null?void 0:$e.version,reason:De}))}).finally(Xe)}else{const Zt=he.a.get(be.c);Object(Y.c)({companyId:Zt,projectId:Ce,applicationId:N?(bt=y==null?void 0:y._id)!=null?bt:Ct==null?void 0:Ct._id:u}).then(De=>{const Ea=C(C({},r),De.data);w(Ea),oe(),De!=null&&De.message&&da(De==null?void 0:De.message),de(),Ze($.g.SOURCE_CODE,h(C({},Bt),{executionStatus:$.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:$.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:$e==null?void 0:$e.version})),Jt(ne.g.DOWNLOAD_CODE_COMPLETED,h(C({},Bt),{sourceCodeAction:$.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:$e==null?void 0:$e.version}))}).catch(De=>{De&&wt(De),z(),Ze($.g.SOURCE_CODE,h(C({},Bt),{executionStatus:$.f.EXECUTION_STATUS.FAILED,sourceCodeAction:$.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:$e==null?void 0:$e.version,reason:De}))}).finally(Xe)}}},sa=()=>{va(),Object(Y.h)(Ce).then(()=>{z(),je()}).catch(Ye=>{wt(Ye),z()}).finally(pa)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gap-3 grid grid-cols-1"},i.a.createElement(p.H,{variant:"dhi_sub2",className:"sm:font-bold"},"Sync with:"),Se&&i.a.createElement(s.a,{closeModal:je,projectId:Ce,onSubmit:z}),!Se&&((r==null?void 0:r.gitRepoDetails)&&((Dt=L==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"UA-189637145-1",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:Dt.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?i.a.createElement("div",{className:"bg-surface2 p-5 rounded-3"},(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB?i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:ae.a,alt:"GitHub"})),i.a.createElement(p.H,{variant:"dhi_sub2"},"GitHub")):i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:se.a,className:"w-6 h-full object-contain m-auto",alt:"GitLab"})),i.a.createElement(p.H,{variant:"dhi_sub2"},"GitLab")),i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Branch name:"),i.a.createElement(p.Q,{titleClass:"text-sub3 text-high ml-1",smallTitle:`${(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB?(Pt=r==null?void 0:r.gitRepoDetails)==null?void 0:Pt.full_name:(ht=r==null?void 0:r.gitRepoDetails)==null?void 0:ht.path_with_namespace}`})),i.a.createElement("div",{className:"flex items-center mt-1.5"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Repo URL:"),i.a.createElement(p.K,{className:"truncate text-sub3 text-dhiPrimary-400 ml-1",onClick:()=>{var Ye,jt;return window.open((r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB?(Ye=r==null?void 0:r.gitRepoDetails)==null?void 0:Ye.html_url:(jt=r==null?void 0:r.gitRepoDetails)==null?void 0:jt.http_url_to_repo,"_blank")}},(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB?(Ae=r==null?void 0:r.gitRepoDetails)==null?void 0:Ae.html_url:(we=r==null?void 0:r.gitRepoDetails)==null?void 0:we.http_url_to_repo)),((nt=r==null?void 0:r.gitSyncLog)==null?void 0:nt.createdAt)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex items-center mt-1.5"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Date:"),i.a.createElement("div",{className:"text-sub3 text-high ml-1"},c()((Fe=r==null?void 0:r.gitSyncLog)==null?void 0:Fe.createdAt).format("ll"))),i.a.createElement("div",{className:"flex items-center mt-1.5"},i.a.createElement("div",{className:"text-b1 text-medium uppercase"},"Time:"),i.a.createElement("div",{className:"text-sub3 text-high ml-1"},c()((Qe=r==null?void 0:r.gitSyncLog)==null?void 0:Qe.createdAt).format("LT")))),i.a.createElement("div",{className:"grid grid-cols-2 gap-5 mt-2.5"},!((st=r==null?void 0:r.gitSyncLog)!=null&&st.createdAt)&&(xt==null?void 0:xt.VIEW)&&i.a.createElement(p.i,{variant:"outline",onClick:()=>{yt(!0),X(),oa()},disabled:ze},"Change repository"),(xt==null?void 0:xt.UPDATE)&&i.a.createElement(p.i,{variant:"secondary",color:"success",onClick:kt,loading:ze,disabled:ze},"Commit")))):!(r!=null&&r.isGitConfigured)&&((me=L==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"UA-189637145-1",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:me.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"?i.a.createElement("div",{className:""},i.a.createElement("div",{className:"flex gap-3 mb-3"},i.a.createElement(p.j,{className:"px-10 py-3",icon:ae.a,imgClassName:"sm:w-10 sm:h-10",variant:"surface1",onClick:$t},i.a.createElement(p.H,{variant:"dhi_sub4"},"GitHub")),i.a.createElement(p.j,{className:"px-10 py-3",icon:se.a,imgClassName:"sm:w-10 sm:h-10",variant:"surface1",onClick:fa},i.a.createElement(p.H,{variant:"dhi_sub4"},"GitLab"))),i.a.createElement(le.a,null)):(xt==null?void 0:xt.VIEW)&&((qe=L==null?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_UI_BUILDER_SERVICE_URL:"https://appuibuilder.dhiwise.com",REACT_APP_WORKFLOW_ADMIN_SERVICE_URL:"https://workflowadminback.dhiwise.com/admin",REACT_APP_IP_FETCH_KEY:"986b19494abbdc2bbec1ee674ef1b8b6",REACT_APP_WORKFLOW_CODEGEN_SERVICE_URL:"https://dhiwiseworkflow.dhiwise.com",REACT_APP_GENERATE_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_MIXPANEL_KEY:"c8445e3f39e47d05adfed8ed9486e61b",REACT_APP_FLAGSMITH_ENVIRONMENT_ID:"ct4EJaHEFzkbpDKgu3e42A",REACT_APP_ALLOW_GIT_INTEGRATION:"true",REACT_APP_CODE_FORMAT_SERVICE_URL:"https://appcodeformat.dhiwise.com",REACT_APP_PROJECT_SERVICE_URL:"https://appproject.dhiwise.com",REACT_APP_LINKEDIN_ID:"5703129",REACT_APP_CANNY_TOKEN:"a1cbb58b-b9f6-27d0-0b94-cc3e7ff2626d",REACT_APP_MIXPANEL_KEY_TEST_SPACE:"0164924b8746e086a55476f3e9e5b42c",REACT_APP_MIXPANEL_KEY_USER_JOURNEY_SMART_EDITOR:"a4891365e9602a8a17843f0db600c9a8",REACT_APP_AMPLITUDE_KEY:"9bc5a0ed19481d9e3a8409669d4ee751",REACT_APP_MIXPANEL_KEY_UI_BUILDER:"0ab88cfae7381a7ab4df1c1a71d413ce",REACT_APP_ENVIRONMENT:"production",REACT_APP_DOC_ENVIRONMENT:"dhiwise_production",REACT_APP_SENTRY_DNS:"https://7fdd965553ec4368a03d79331cbd7375@o769898.ingest.sentry.io/5795106",REACT_APP_IMAGE_URL:"https://apppublic.dhiwise.com",REACT_APP_WORKFLOW_APIRunner:"https://apirunner.dhiwise.com",REACT_APP_AWS_S3_BUCKET_NAME:"dhws-production",REACT_APP_FLUTTER_PREVIEW_URL:"https://preview.dhiwise.com",REACT_APP_REACT_PREVIEW_URL:"https://reactuibuilder.dhiwise.com",REACT_APP_WORKFLOW_SERVICE_URL:"https://workflows.dhiwise.com/client",REACT_APP_USER_SERVICE_URL:"https://appuser.dhiwise.com",REACT_APP_GTAG_CODE:"UA-189637145-1",REACT_APP_FIGMA_CLIENT_ID:"ge7ZlfDvcrEn5BD04Dk6I4"}))==null?void 0:qe.REACT_APP_ALLOW_GIT_INTEGRATION)==="true"&&i.a.createElement("div",{className:"bg-surface2 p-5 rounded-3"},(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB?i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:ae.a,alt:"GitHub"})),i.a.createElement(p.H,{variant:"dhi_sub2"},"GitHub")):i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},i.a.createElement("img",{src:se.a,className:"w-6 h-full object-contain m-auto",alt:"GitLab"})),i.a.createElement(p.H,{variant:"dhi_sub2"},"GitLab")),i.a.createElement("div",{className:"mt-3"},(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_SELF_MANAGE&&!(r!=null&&r.isWhitelisted)?i.a.createElement(i.a.Fragment,null,i.a.createElement(p.Q,{smallTitle:(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_SELF_MANAGE&&!(r!=null&&r.isWhitelisted)?"Please whitelist our IP for further process":""}),i.a.createElement("div",{className:"mt-5"},i.a.createElement(p.i,{onClick:sa,loading:tt,variant:"secondary",className:"w-full",size:"medium",shape:"square"},"Whitelist"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(p.w,null,`Synced ${(r==null?void 0:r.gitConfiguredType)===ve.a.GIT_HUB?"GitHub":"GitLab"}, Now you can select repository`),i.a.createElement("div",{className:"mt-5"},i.a.createElement(p.i,{onClick:oa,variant:"secondary",className:"w-full"},"Select Git repository"))))))),Je&&i.a.createElement(f.a,{isOpen:Je,onClose:ia,onDrawerClose:ia,gitRepoDetails:r==null?void 0:r.gitRepoDetails,gitType:r==null?void 0:r.gitConfiguredType,addRepoUrl:r==null?void 0:r.domainUrl,isChangeRepo:ot,isSecondaryBuild:N,secondaryAppData:y}),i.a.createElement(p.o,{isOpen:_a,handleSubmit:It,title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),i.a.createElement(p.B,{isOpen:Ut,closeModal:()=>{Nt(!1)}}))}}).call(this,t(56))},3768:function(at,V,t){"use strict";t.d(V,"a",function(){return be});var L=t(0),e=t.n(L),i=t(162),Ee=t(2350),c=t(71),G=t(3),n=t(7),ae=t(2318),se=t(30),ne=t(2323),re=t(47),Y=t(68),H=Object.defineProperty,le=Object.defineProperties,p=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,E=(S,f,s)=>f in S?H(S,f,{enumerable:!0,configurable:!0,writable:!0,value:s}):S[f]=s,D=(S,f)=>{for(var s in f||(f={}))k.call(f,s)&&E(S,s,f[s]);if(ve)for(var s of ve(f))_e.call(f,s)&&E(S,s,f[s]);return S},$=(S,f)=>le(S,p(f));const he={gitPrivateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"},domainUrl:{required:"Domain url is required."},userName:{required:"User name is required."},privateToken:{required:"Personal access token is required.",pattern:"Personal access token can be alphanumeric and only allows - and _ special character"}},be=({closeModal:S,projectId:f,onSubmit:s})=>{const{addErrorToast:Le,addSuccessToast:ee}=Object(se.j)(),[M,T,Re]=Object(re.a)(!1),[m,Ke]=e.a.useState("1"),[C,h]=e.a.useState(!1),{handleSubmit:I,errors:N,control:r}=Object(i.e)({mode:"onChange"}),y=w=>{M||(T(),m==="1"&&Object(ae.a)(D({projectId:f,type:ne.a.GIT_LAB},w)).then(de=>{var X;(X=de==null?void 0:de.data)!=null&&X.isEmailUnVerified?h(!0):(ee(de==null?void 0:de.message),s(),S())}).catch(de=>{Le(de)}).finally(Re),m==="2"&&Object(ae.g)(D({projectId:f,type:ne.a.GIT_SELF_MANAGE},w)).then(de=>{var X;(X=de==null?void 0:de.data)!=null&&X.isEmailUnVerified?h(!0):(ee(de==null?void 0:de.message),s(),S())}).catch(de=>{Le(de)}).finally(Re))},z=()=>{Object(Y.B)().then(w=>{ee(w==null?void 0:w.message),h(!1)}).catch(Le)};return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"bg-surface2 p-5 rounded-3"},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-10 h-10 bg-surface3 p-1 rounded-full mr-2.5"},e.a.createElement("img",{src:Ee.a,className:"w-6 h-full object-contain m-auto",alt:"GitLab"})),e.a.createElement(n.H,{variant:"dhi_sub2"},"GitLab")),e.a.createElement(n.fb,{selectedValue:m,className:"flex gap-5 mt-3",onChange:w=>Ke(w)},e.a.createElement(n.eb,{value:"1"},e.a.createElement("div",{className:"gap-1 flex items-center"},"GitLab SaaS",e.a.createElement("div",{"data-tip":!0,"data-for":"gitlab-saas"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(G.b.Info,null)),e.a.createElement(c.a,{id:"gitlab-saas",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you are using the GitLab service hosted on GitLab's cloud servers."))))),e.a.createElement(n.eb,{value:"2"},e.a.createElement("div",{className:"gap-1 flex items-center"},"Self-Managed",e.a.createElement("div",{"data-tip":!0,"data-for":"self-manage"},e.a.createElement("div",{className:"w-4 h-4"},e.a.createElement(G.b.Info,null)),e.a.createElement(c.a,{id:"self-manage",t:!0,ype:"dark"},e.a.createElement("div",{className:"w-48"},"Select this option if you have installed GitLab on your own infrastructure.")))))),e.a.createElement("div",{className:"grid gap-5 mt-5"},m==="1"&&e.a.createElement("form",{onSubmit:I(y)},e.a.createElement(i.a,{name:"gitPrivateToken",control:r,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:w=>e.a.createElement(n.I.Text,$(D({},w),{placeholder:"Enter personal access token",label:"Personal access token",error:N.gitPrivateToken?he.gitPrivateToken[N.gitPrivateToken.type]:""}))}),e.a.createElement("div",{className:"mt-3"},e.a.createElement(n.i,{variant:"secondary",className:"w-full",type:"submit",loading:M},"Submit"))),m==="2"&&e.a.createElement("form",{onSubmit:I(y)},e.a.createElement(i.a,{name:"domainUrl",control:r,rules:{required:!0},defaultValue:"",render:w=>e.a.createElement(n.I.Text,$(D({},w),{placeholder:"Enter domain url",label:"Domain url",error:N.domainUrl?he.domainUrl[N.domainUrl.type]:""}))}),e.a.createElement(i.a,{name:"userName",control:r,rules:{required:!0},defaultValue:"",render:w=>e.a.createElement(n.I.Text,$(D({},w),{placeholder:"Enter username",label:"Username",error:N.userName?he.userName[N.userName.type]:""}))}),e.a.createElement(i.a,{name:"privateToken",control:r,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+$/},defaultValue:"",render:w=>e.a.createElement(n.I.Text,$(D({},w),{placeholder:"Enter personal access token",label:"Personal access token",error:N.privateToken?he.privateToken[N.privateToken.type]:""}))}),e.a.createElement("div",{className:"mt-3"},e.a.createElement(n.i,{variant:"secondary",className:"w-full",type:"submit",loading:M},"Submit"))))),e.a.createElement(n.o,{size:"xxl:w-4/12 w-5/12",title:"Verify your email",isOpen:C,color:"default",closeModal:()=>{h(!1)},handleSubmit:z,shortDesc:e.a.createElement(e.a.Fragment,null,"Check promotion or spam folder in case you didn't get email in your inbox. Write to us at"," ",e.a.createElement(n.K,{link:"mailto:help@dhiwise.com",target:"_blank"},"help@dhiwise.com")," ","if you didn't receive an email or facing any issue."),description:"Woohoo! Great to see you here and you're just a step away to get all of it. Please verify your email address to perform this action.",okText:"Resend email verification link"}))}},4065:function(at,V,t){"use strict";t.r(V),t.d(V,"default",function(){return Ln});var L=t(0),e=t.n(L),i=t(2472),Ee=t(26),c=t(5),G=t(418),n=t(231),ae=t(45),se=t(73),ne=t.n(se),re=t(35),Y=t(109),H=t(2244),le=t(174),p=t(3),ve=t(2250),k=t(346),_e=t(593),E=t(2),D=t(32);const $=(a,o)=>{let l="";return a===E.c.androidFigma?l="app/src/main/res/layout":a===E.c.flutter?l="lib/presentation":a===E.c.IOS&&(l=`${o}/Views`),l},he={icon:e.a.createElement("div",{className:"w-2.5"},e.a.createElement(p.b.RightArrow,null))},be=({setVisitedFiles:a=()=>{}})=>{var o,l,g;const{currentApplicationCode:K,currentProjectDetail:P,currentApplicationId:Q,projectStructure:v}=Object(D.d)(),A=(o=P==null?void 0:P.applicationList)==null?void 0:o.find(Z=>Z._id===Q),{resetAllData:R}=Object(_e.c)(),ue=new URLSearchParams(window.location.search).get("screenExportBuild"),te=$(K,A==null?void 0:A.name);let ie="",j="";const F=[],q=Z=>{var pe;return ue&&[E.c.androidFigma,E.c.IOS,E.c.flutter].includes(K)&&(Z==null||Z.forEach(O=>{var Te,fe,Me,ce,B,Oe,Pe,rt,xe,He,ct,Be;if(te!=null&&te.includes(O==null?void 0:O.path)&&(j=j?`${j}/${O==null?void 0:O.path}`:`${O==null?void 0:O.path}`,F.push(j),!Object(c.isEmpty)(O==null?void 0:O.child)&&((Te=O==null?void 0:O.child)==null?void 0:Te.some(Ne=>te==null?void 0:te.includes(Ne==null?void 0:Ne.path)))&&(j=`${j}/${(Me=(fe=O==null?void 0:O.child)==null?void 0:fe.find(Ne=>te==null?void 0:te.includes(Ne==null?void 0:Ne.path)))==null?void 0:Me.path}`,F.push(j),q((B=(ce=O==null?void 0:O.child)==null?void 0:ce.find(Ne=>te==null?void 0:te.includes(Ne==null?void 0:Ne.path)))==null?void 0:B.child))),K===E.c.androidFigma&&te===(O==null?void 0:O.path)&&(Oe=O==null?void 0:O.child)!=null&&Oe.every(Ne=>(Ne==null?void 0:Ne.type)===1)&&(j=`${j}/${(rt=(Pe=O==null?void 0:O.child)==null?void 0:Pe[0])==null?void 0:rt.path}`,ie=(He=(xe=O==null?void 0:O.child)==null?void 0:xe[0])==null?void 0:He.path),[E.c.IOS,E.c.flutter].includes(K)&&(ct=O==null?void 0:O.path)!=null&&ct.startsWith(te)&&!Object(c.isEmpty)(O==null?void 0:O.child)&&(O==null?void 0:O.type)===2&&!ie){j=`${j}/${O==null?void 0:O.path}`,F.push(j);const Ne=(Be=O==null?void 0:O.child)==null?void 0:Be.find(ft=>{var zt;return((zt=ft==null?void 0:ft.path)==null?void 0:zt.includes(O==null?void 0:O.name))&&(ft==null?void 0:ft.type)===1});Ne&&(j=`${j}/${Ne==null?void 0:Ne.path}`,F.push(j),ie=Ne==null?void 0:Ne.path)}})),{initialSelectedFilePath:ie||(Object(c.isArray)(v)&&((pe=v==null?void 0:v.findIndex)==null?void 0:pe.call(v,O=>(O==null?void 0:O.path)==="/README.md"))>=0?"/README.md":""),initialActiveKey:ie?j:"/README.md",initialOpenNodes:ie?F:[]}};return e.a.createElement(le.c,{className:`w-full project-sidebar ${ve.a.wrap}`},e.a.createElement(le.a,{className:"p-0"},e.a.createElement(le.d,{className:"relative",defaultOpen:!0,title:(g=(l=A==null?void 0:A.displayName)!=null?l:A==null?void 0:A.name)!=null?g:"",icon:he.icon,onClick:Z=>{Z.stopPropagation(),R()}},e.a.createElement(k.a,{projectStructure:v,defaultSelectedOptions:q(v),setVisitedFiles:a}))))};var S=t(579),f=t.n(S),s=t(7),Le=t(585),ee=t(192),M=t(30),T=t(80),Re=t(230),m=t(8),Ke=t(556),h=({rows:a})=>e.a.createElement(e.a.Fragment,null,Array(a||8).fill("").map(()=>e.a.createElement(Ke.a,{speed:2,width:"100%",height:"auto",backgroundColor:"var(--dhi-surface2)",foregroundColor:"var(--dhi-surfacee2)"},e.a.createElement("rect",{x:"10",y:"8",rx:"3",ry:"3",width:"40%",height:"6"}),e.a.createElement("rect",{x:"10",y:"30",rx:"3",ry:"3",width:"60%",height:"6"}),e.a.createElement("rect",{x:"10",y:"50",rx:"3",ry:"3",width:"30%",height:"6"}),e.a.createElement("rect",{x:"10",y:"70",rx:"3",ry:"3",width:"20%",height:"6"}),e.a.createElement("rect",{x:"10",y:"90",rx:"3",ry:"3",width:"10%",height:"6"}),e.a.createElement("rect",{x:"10",y:"110",rx:"3",ry:"3",width:"0%",height:"6"})))),I=t(110),N=Object.defineProperty,r=Object.defineProperties,y=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,X=(a,o,l)=>o in a?N(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,_=(a,o)=>{for(var l in o||(o={}))w.call(o,l)&&X(a,l,o[l]);if(z)for(var l of z(o))de.call(o,l)&&X(a,l,o[l]);return a},oe=(a,o)=>r(a,y(o));const J={md:"markdown",js:"javascript",jsx:"javascript",kt:"kotlin",html:"html",xml:"xml",dockerfile:"dockerfile",php:"php",json:"json",graphql:"graphql",java:"java",less:"less",swift:"swift",dart:"dart",ts:"typescript",tsx:"typescript"},Dt=({fileIcon:a,title:o})=>e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-3 h-3 mr-1"},a),o,e.a.createElement("div",{className:"w-3 h-3 ml-1"},e.a.createElement(p.b.Close,null))),Pt=e.a.forwardRef(({width:a})=>{var o,l,g,K,P,Q,v,A;const{userData:R}=Object(M.e)(),[x,ue,te]=Object(M.a)(!1),[ie,j,F]=Object(M.a)(!1),[q,Z,pe]=Object(M.a)(!1),[O,Te,fe]=Object(M.a)(!1),{currentApplicationCode:Me,currentProjectDetail:ce,currentApplicationId:B}=Object(D.d)(),Oe=(o=ce==null?void 0:ce.applicationList)==null?void 0:o.find(Ue=>(Ue==null?void 0:Ue._id)===B),Pe=[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(Me),rt=!Object(c.isEmpty)(Me)&&Me===E.c.figmaReact,{mixPanelTrack:xe}=Object(Re.a)(),{webengageTrackEvent:He}=Object(Y.a)(),{selectedCodeFilePath:ct,selectedCode:Be,selectedFilePath:Ne,shouldTabRenders:ft,setTabRenders:zt,selectedFileType:ra,isCodeFileLoading:ha}=Object(_e.c)(),d=ct?ct==null?void 0:ct.split("/").filter(Ue=>Ue&&Ue):[],ge=Object(c.last)((l=Object(c.last)(d))==null?void 0:l.split("."));ct===Ne&&zt(!1),e.a.useEffect(()=>(te(),F(),()=>{te(),F()}),[Be]);const We=({style:Ue})=>e.a.cloneElement(e.a.createElement(Le.a,null),{readOnly:"true",width:a,defaultValue:"",value:Be,language:J[ge],style:{style:Ue}}),ut=()=>{ue(),f()(Be);const Ue=setTimeout(()=>te(),2e3),Vt="&isClipboard=true";return Object(I.m)(B,Vt).then(()=>{}).catch(()=>{}),()=>{clearTimeout(Ue)}},Ve=Ue=>{var Vt;const Aa=new Blob([Ue],{type:"text/html"}),ma=Object.keys(ee.c).includes(ge)?`data:application/octet-stream;base64,${Ue}`:window.URL.createObjectURL(Aa),ea=document.createElement("a");ea.href=ma,ea.download=Object(c.last)(d),document.body.appendChild(ea),ea.click(),(Vt=ea.parentNode)==null||Vt.removeChild(ea);const Ma="&isSingleFileDownload=true";Object(I.m)(B,Ma).then(()=>{}).catch(()=>{}),setTimeout(()=>{F()},1e3)},Wt=Ue=>{const Vt=_(oe(_({applicationId:B},(Pe||rt)&&{screens:1}),{technology:m.f.TECHNOLOGY[Me],generatorVersion:Oe==null?void 0:Oe.version}),Ue);xe(m.g.SOURCE_CODE,Vt),He(re.g.DOWNLOAD_CODE_COMPLETED,Vt)};return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"relative flex justify-between items-center"},e.a.createElement(s.g,{className:"overflow-hidden mr-2 pl-2"},e.a.createElement(s.h,{title:(K=(g=Oe==null?void 0:Oe.displayName)!=null?g:Oe==null?void 0:Oe.name)!=null?K:"",isRightArrow:!0}),d.map((Ue,Vt)=>e.a.createElement(s.h,{title:Ue,isRightArrow:Vt+1!==d.length}))),!d.join("/").match(E.q[Me])&&e.a.createElement("div",{className:"flex py-2 pr-1 flex-shrink-0"},Be&&ra!==ee.a.DEFAULT&&e.a.createElement(e.a.Fragment,null,!Object.keys(ee.c).includes(ge)&&e.a.createElement(s.i.Icon,{variant:"coolgray",size:"small",shape:"square",className:"",tooltipPosition:"left",tooltip:x?"Copied":`Copy to clipboard ${(P=Object(c.last)(d))!=null&&P.includes("index")?(Q=d==null?void 0:d.slice((d==null?void 0:d.length)-2))==null?void 0:Q.join("/"):Object(c.last)(d)}`,onClick:()=>{const Ue=`${d.join("/")}`;R!=null&&R.isFakeEmail?(Te(),Wt({executionStatus:m.f.EXECUTION_STATUS.FAILED,resaon:"Suspicious email found.",sourceCodeAction:m.f.SOURCE_CODE_ACTION.COPY_CLIPBOARD,fileName:Ue})):(R==null?void 0:R.status)!==T.h.VERIFIED?(Z(),Wt({executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:"Email is not verified.",sourceCodeAction:m.f.SOURCE_CODE_ACTION.COPY_CLIPBOARD,fileName:Ue})):(Wt({executionStatus:m.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:m.f.SOURCE_CODE_ACTION.COPY_CLIPBOARD,fileName:Ue}),ut())}},x?e.a.createElement(p.b.Check,{color:"var(--color-bg-active)"}):e.a.createElement(p.b.Copy,null)),e.a.createElement(s.i.Icon,{variant:"coolgray",size:"small",shape:"square",className:"ml-2",tooltipPosition:"left",tooltip:`Download ${(v=Object(c.last)(d))!=null&&v.includes("index")?(A=d==null?void 0:d.slice((d==null?void 0:d.length)-2))==null?void 0:A.join("/"):Object(c.last)(d)}`,leftIcon:e.a.createElement(p.b.Download,null),onClick:()=>{const Ue=`${d.join("/")}`;R!=null&&R.isFakeEmail?(Te(),Wt({executionStatus:m.f.EXECUTION_STATUS.FAILED,resaon:"Suspicious email found.",sourceCodeAction:m.f.SOURCE_CODE_ACTION.SINGLE_FILE,fileName:Ue})):(R==null?void 0:R.status)!==T.h.VERIFIED?(Z(),Wt({executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:"Email is not verified.",sourceCodeAction:m.f.SOURCE_CODE_ACTION.SINGLE_FILE,fileName:Ue})):(Wt({executionStatus:m.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:m.f.SOURCE_CODE_ACTION.SINGLE_FILE,fileName:Ue}),j(),Ve(Be))},loading:ie},e.a.createElement(p.b.Download,null))))),ha?e.a.createElement(h,null):ct===Ne&&ft?e.a.createElement(e.a.Suspense,{fallback:e.a.createElement("p",null,"Suspense Loading")},e.a.createElement(We,null)):e.a.createElement(e.a.Fragment,null,e.a.createElement(Le.a,{imageShow:!!Object.keys(ee.c).includes(ge),fileType:ra,imageSource:Object.keys(ee.c).includes(ge)?`data:image/${ee.c[ge]};base64, ${Be}`:!1,readOnly:!0,allowCopy:!0,width:a,defaultValue:"",value:Be,language:J[ge]})),e.a.createElement(s.o,{isOpen:O,handleSubmit:fe,title:"",description:"Suspicious email found. You can not perform this action.",okText:"Ok",color:"default"}),e.a.createElement(s.B,{isOpen:q,closeModal:pe}))});var ht=t(2354),Ae=t(47),we=t(11),nt=t(2656),Fe=t(123),Qe=t(55),st=t(380);const me={VersionNumberWrap:"",versionNumberLabel:"text-b1 flex items-center cursor-pointer h-full px-4 bg-surface3",VersionNumber:"text-high text-b1 ml-0.5",VersionNumberBackend:"text-dhiPrimary-400 ml-2 text-sm font-bold",VersionInfoLabel:"text-b1 text-high",buildError:"text-b1 text-dhiDanger-400 ml-0.5",VersionInfoBlock:"mr-4 flex flex-wrap items-center",versionInfoBackend:"mb-2 border-b border-gray-90 border-dashed pb-2"};var qe=t(29),b=t(53),u=t(2348),Ce=t(2249),Ie=t(232);const ot=({buildProjectData:a,versionInfoBlockCSS:o,versionNumberCSS:l})=>{var g,K,P,Q,v,A,R,x,ue,te,ie,j,F,q,Z,pe,O,Te;return e.a.createElement(e.a.Fragment,null,(a==null?void 0:a.tempGeneratedId)&&e.a.createElement(e.a.Fragment,null,((K=(g=a==null?void 0:a.generatedProjectData)==null?void 0:g.versionNumber)==null?void 0:K.toString())&&e.a.createElement("div",{className:`${o} mb-1`},e.a.createElement("span",{className:me.VersionInfoLabel},"Last successful build:"),e.a.createElement("span",{className:l},`v${(Q=(P=a==null?void 0:a.generatedProjectData)==null?void 0:P.semanticVersionNumber)!=null?Q:"1.0"}.${(v=a==null?void 0:a.generatedProjectData)==null?void 0:v.versionNumber}`))),(a==null?void 0:a.tempGeneratedId)&&((R=(A=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:A.versionNumber)==null?void 0:R.toString())&&e.a.createElement("div",{className:`${o} mb-1`},e.a.createElement("span",{className:me.VersionInfoLabel},"Last build version:"),e.a.createElement("span",{className:l},`v${(ue=(x=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:x.semanticVersionNumber)!=null?ue:"1.0"}.${(te=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:te.versionNumber}`)),!(a!=null&&a.tempGeneratedId)&&((j=(ie=a==null?void 0:a.generatedProjectData)==null?void 0:ie.versionNumber)==null?void 0:j.toString())&&e.a.createElement("div",{className:`${o} mb-1`},e.a.createElement("span",{className:me.VersionInfoLabel},"Last build version:"),e.a.createElement("span",{className:l},`v${(q=(F=a==null?void 0:a.generatedProjectData)==null?void 0:F.semanticVersionNumber)!=null?q:"1.0"}.${(Z=a==null?void 0:a.generatedProjectData)==null?void 0:Z.versionNumber}`)),(a==null?void 0:a.tempGeneratedId)&&e.a.createElement("div",{className:`${o}`},e.a.createElement("span",{className:me.VersionInfoLabel},"Last build status:"),e.a.createElement("span",{className:me.buildError},`Failed (v${(O=(pe=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:pe.semanticVersionNumber)!=null?O:"1.0"}.${(Te=a==null?void 0:a.prevGeneratedProjectData)==null?void 0:Te.versionNumber})`)))},yt=({buildProjectData:a,isBackendApp:o,isReactWebFigma:l,isMobileApplication:g,isStateManagerEnable:K=!1,currentApplicationCode:P="",isSecondaryBuild:Q=!1,currentApplicationDetail:v={}})=>{var A,R,x,ue,te,ie,j,F,q,Z,pe,O,Te,fe,Me;const ce=l||g?me.VersionInfoBlock:me.versionInfoBackend,B=l||g?me.VersionNumber:me.VersionNumberBackend;return e.a.createElement(e.a.Fragment,null,((R=(A=a==null?void 0:a.generatedProjectData)==null?void 0:A.versionNumber)==null?void 0:R.toString())&&e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Version of displayed code:"),e.a.createElement("span",{className:B},`v${(ue=(x=a==null?void 0:a.generatedProjectData)==null?void 0:x.semanticVersionNumber)!=null?ue:"1.0"}.${(te=a==null?void 0:a.generatedProjectData)==null?void 0:te.versionNumber}`)),l||g?e.a.createElement(Ce.a,{containerClassName:`${st.a.popoverWrap} mt-2.5 w-96 `,popOverValue:e.a.createElement(ot,{buildProjectData:a,versionInfoBlockCSS:ce,versionNumberCSS:B}),data:e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Application info"),e.a.createElement("div",{className:"w-3.5 h-3.5 ml-1"},e.a.createElement(p.b.UpArrow,null))),onHover:!0,positions:["bottom","left"]}):e.a.createElement(ot,{buildProjectData:a,versionInfoBlockCSS:ce,versionNumberCSS:B}),o&&(a==null?void 0:a.generatedProjectArchitecture)&&e.a.createElement("div",{className:`${ce} border-none sm:pb-0`},e.a.createElement("span",{className:me.VersionInfoLabel},"Code architecture:"),e.a.createElement("span",{className:B},qe.d[a==null?void 0:a.generatedProjectArchitecture])),g&&!Q&&(K?e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Code type:"),e.a.createElement("span",{className:B},(F=(j=(ie=Object.values(qe.g))==null?void 0:ie.find(Oe=>{var Pe;return(Oe==null?void 0:Oe.id)===((Pe=a==null?void 0:a.generatedProjectData)==null?void 0:Pe.stateManager)}))==null?void 0:j.name)!=null?F:qe.g.WITHOUT_STATE_MANAGEMENT.name)):e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Code type:"),e.a.createElement("span",{className:B},((q=a==null?void 0:a.generatedProjectData)==null?void 0:q.screenExportBuild)===qe.j.UI?b.m[P]:b.k[P]))),l&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Storybook:"),e.a.createElement("span",{className:B},(Z=a==null?void 0:a.generatedProjectData)!=null&&Z.isStorybookRequired?"Yes":"No")),e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Framework config:"),e.a.createElement("span",{className:B},(O=(pe=Object.values(u.a))==null?void 0:pe.find(Oe=>{var Pe;return(Oe==null?void 0:Oe.apiKey)===((Pe=a==null?void 0:a.generatedProjectData)==null?void 0:Pe.buildType)}))==null?void 0:O.title)),e.a.createElement("div",{className:ce},e.a.createElement("span",{className:me.VersionInfoLabel},"Language:"),e.a.createElement("span",{className:B},(Me=(fe=(Te=Object.values(E.A))==null?void 0:Te.find(Oe=>(Oe==null?void 0:Oe.id)===(v==null?void 0:v.languageType)))==null?void 0:fe.name)!=null?Me:E.A.JAVASCRIPT.name))))},Ut=()=>{var a;const{buildProjectData:o,currentApplicationCode:l,currentProjectDetail:g,currentApplicationId:K}=Object(D.d)(),{getStateManagerStatus:P}=Object(Ie.a)(),[Q,v]=e.a.useState(!1),A=(a=g==null?void 0:g.applicationList)==null?void 0:a.find(q=>q._id===K),R=P(),x=!Object(c.isEmpty)(l)&&[E.c.nodeExpress,E.c.laravel].includes(l),ue=!Object(c.isEmpty)(l)&&l===E.c.figmaReact,te=!Object(c.isEmpty)(l)&&[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(l),j=new URLSearchParams(window.location.search).get("isSecondaryBuild"),F=()=>{v(q=>!q)};return e.a.createElement(e.a.Fragment,null,ue||te?e.a.createElement("div",{className:"flex items-center"},e.a.createElement(yt,{buildProjectData:o,isBackendApp:x,isReactWebFigma:ue,isMobileApplication:te,isStateManagerEnable:R,currentApplicationCode:l,isSecondaryBuild:j,currentApplicationDetail:A})):e.a.createElement(Ce.a,{popOverValue:[e.a.createElement("div",null,e.a.createElement(yt,{buildProjectData:o,isBackendApp:x}))],isOpen:Q,onOuterAction:F,refreshIntervalMs:10,enterExitTransitionDurationMs:10,tipSize:10,className:"popupCustom h-full",data:e.a.createElement("div",{className:me.versionNumberLabel,onClick:F},"Application info",e.a.createElement("div",{className:"w-3.5 h-3.5 ml-2"},e.a.createElement(p.b.UpArrow,null)))}))};var Nt=t(575),Ct=t(147),$e=t.n(Ct),Gt=t(622),ke=t(2748),Se=t(420);const et={loop:!0,autoplay:!0,animationData:Gt,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},je=()=>{var a,o,l,g,K;const[P,Q]=e.a.useState(!1),{currentProjectDetail:v,currentApplicationId:A}=Object(D.d)(),R=(a=v==null?void 0:v.applicationList)==null?void 0:a.find(te=>te._id===A),x=(l=(o=R==null?void 0:R.output)==null?void 0:o.sandbox)==null?void 0:l.domainName,ue=[Se.b.START_SERVER,Se.b.RESTART_SERVER,Se.b.STOP_SERVER].includes((K=(g=R==null?void 0:R.output)==null?void 0:g.production)==null?void 0:K.stateStatus);return e.a.createElement("div",{className:"mr-2"},e.a.createElement(Ce.a,{dropdownWrapClass:"w-96",place:"above",data:e.a.createElement("div",{className:"flex"},e.a.createElement(s.i,{variant:"secondary",color:"success",size:"medium",leftIcon:e.a.createElement(p.b.Play,null),shape:"square",wrapClass:"flex items-center"},e.a.createElement("span",{className:""},P?"Preparing ":"Run"),P&&e.a.createElement($e.a,{options:et,height:20,width:30}),!P&&(x||ue)&&e.a.createElement("div",{className:"w-4 h-4 ml-2 rounded-full bg-activebg p-1"},e.a.createElement(p.b.Check,null)))),popOverValue:e.a.createElement(e.a.Fragment,null,e.a.createElement(ke.a,{setMainLoader:Q}))}))};var ze=t(2650),vt=t(198),Xe=t(125),Je=t(538),dt=t(2533),pt=t(2291),tt=t(4),va=t(3767),pa=t(588),_a=t.p+"static/media/android.db495354.svg",Kt=t(621),It=t(21),Ze=t(85),Jt=t(322),Mt=t(52),na=Object.defineProperty,xt=Object.defineProperties,da=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,oa=(a,o,l)=>o in a?na(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,ia=(a,o)=>{for(var l in o||(o={}))Ta.call(o,l)&&oa(a,l,o[l]);if(wt)for(var l of wt(o))la.call(o,l)&&oa(a,l,o[l]);return a},$t=(a,o)=>xt(a,da(o));const fa=({codeViewMixPanelLog:a=()=>{}})=>{var o,l;const[g,K]=Object(D.b)(),{currentApplicationId:P,currentApplicationCode:Q,currentProjectDetail:v}=g,A=(o=v==null?void 0:v.applicationList)==null?void 0:o.find(B=>B._id===P),R=(l=A==null?void 0:A.configInput)==null?void 0:l.applicationToken,{userData:x}=Object(M.e)(),{addSuccessToast:ue,addErrorToast:te}=Object(M.j)(),[ie,j,F]=Object(M.a)(!1),[q,Z,pe]=Object(M.a)(!1),[O,Te,fe]=Object(M.a)(!1),Me=()=>{x!=null&&x.isFakeEmail?Z():(x==null?void 0:x.status)!==T.h.VERIFIED?Te():(f()(R),a(),ue("Application token copied successfully."))},ce=()=>{x!=null&&x.isFakeEmail?Z():(x==null?void 0:x.status)!==T.h.VERIFIED?Te():(j(),Object(It.b)(It.a.application.vsCodeTokenGeneration,{applicationId:P}).then(B=>{var Oe;F(),ue(B.message),K(Object(Mt.f)({currentProject:{applications:(Oe=v==null?void 0:v.applicationList)==null?void 0:Oe.map(Pe=>{var rt;return Pe._id===P?(rt=$t(ia({},Pe),{configInput:$t(ia({},Pe.configInput),{applicationToken:B.data.applicationToken})}))!=null?rt:{}:Pe})}}))}).catch(B=>{te(B),F()}))};return e.a.createElement("div",{className:""},e.a.createElement(s.H,{variant:"dhi_sub2",className:"font-semibold"},"Sync the app code in your IDE"),e.a.createElement(s.w,{className:"mt-1.5"},Q===E.c.figmaReact?"We provide VS Code extension to sync the code. First, install the DhiWise extension in VS Code, copy-paste the token into the extension to sync the code.":`We provide ${Q===E.c.flutter?"extensions and plugins":"plugins"} to sync code for ${Q===E.c.flutter?"VS Code,":""} Android Studio, & IntelliJ IDEA. First, install the DhiWise plugin in your preferred IDE from the above mentioned list. Then, copy-paste the token into the DhiWise plugin to sync the code.`,e.a.createElement(s.K,{target:"_blank",isDocReview:!0,docDetail:{currentApplicationCode:Q,applicationId:P,docName:"Plugin & Extensions"},className:"ml-1 whitespace-nowrap",link:Ze.b.PluginsExtensions},"Read docs!")),e.a.createElement("div",{className:"p-4 rounded-3 bg-surface2 mt-4"},e.a.createElement("div",{className:"flex "},e.a.createElement("div",{className:"relative flex-grow"},e.a.createElement(s.I.Text,{disabled:!0,WrapClassName:"flex-grow",desc:"Use this application token while syncing the application in VS code.",size:"medium",label:"Application token",value:R}),e.a.createElement(s.i.Icon,{className:"flex-shrink-0 bg-dhiGray-500 ml-2.5 mt-6 sm:absolute right-1 top-1.5",tooltip:"Copy token",variant:"coolgray",size:"small",onClick:Me},e.a.createElement(p.b.Copy,null))),e.a.createElement(s.i.Icon,{className:"flex-shrink-0 ml-2.5 mt-7",tooltip:"Regenerate application token",variant:"coolgray",size:"medium",onClick:ce,loading:ie},e.a.createElement(p.b.Refresh,null))),e.a.createElement("div",{className:" grid grid-cols-1 gap-2 mt-4"},[E.c.flutter,E.c.figmaReact].includes(Q)&&e.a.createElement("div",{className:"flex items-center rounded-3 cursor-pointer bg-dhiPrimary-50 p-2.5 justify-between w-full",onClick:()=>{window.open(Jt.a.VSCODE,"__blank")}},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-4 h-4 mr-2.5"},e.a.createElement("img",{src:pa.a,alt:""})),e.a.createElement(s.H,{variant:"dhi_sub4",className:""},"VS Code extension")),e.a.createElement("div",{className:"w-3.5 h-3.5 ml-5"},e.a.createElement(p.b.Redirect,{color:"var(--dhi-primary-400)"}))),[E.c.flutter,E.c.androidFigma].includes(Q)&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"flex items-center rounded-3 cursor-pointer justify-between p-2.5 w-full",onClick:()=>{window.open(Jt.a.ANDROID_STUDIO,"__blank")},style:{backgroundColor:"rgba(164,198,57,15%)"}},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-4 h-4 mr-2.5"},e.a.createElement("img",{src:_a,alt:""})),e.a.createElement(s.H,{variant:"dhi_sub4",className:""},"Android Studio plugin")),e.a.createElement("div",{className:"w-2.5 h-2.5 ml-5"},e.a.createElement(p.b.Redirect,{color:"#A2CB21"}))),e.a.createElement("div",{className:"flex items-center rounded-3 cursor-pointer justify-between p-2.5 w-full",onClick:()=>{window.open(Jt.a.INTELLIJ,"__blank")},style:{backgroundColor:"rgba(139,84,166,24%)"}},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-4 h-4 mr-2.5"},e.a.createElement("img",{src:Kt.a,alt:""})),e.a.createElement(s.H,{variant:"dhi_sub4",className:""},"IntelliJ IDEA plugin")),e.a.createElement("div",{className:"w-2.5 h-2.5 ml-5"},e.a.createElement(p.b.Redirect,{color:"#B171D1"})))))),e.a.createElement(s.o,{isOpen:q,handleSubmit:pe,title:"",description:"Suspicious email found. You can not use VS code extention.",okText:"Ok",color:"default"}),e.a.createElement(s.B,{isOpen:O,closeModal:fe}))};var kt=t(2323),sa=t(2318),Ye=t(9),jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHcSURBVHgBzZi9L0NRHIbfi0gsiMUgqNBKpAwSMROJ2CVEYjIRmliKQZgtBgYh/hDxkVgMRhFJkRpFIqkuhgo/7+mHfrjtvbe5H+dJntz29rTn7Xva05sCLiIivbQDusJwp/QIOsJg/ZLji0ahGwx1LUWuoBMMNC//mYEOMEgzfTEJeE+bEDQMEZPqbCNIGCBEX2sETNF2BAUnPxFrDhAEUtxWrMjQcfgNJ70Q+1zCTzjhojjHn22HEzXRpDgnQVvgkAY4Z532wTkRugovkdzVSlrqR207jq52nDa4RVtRP2pP3IUX8J2HxR1+6DDchi96Lu5xBjfhCy6I+0zbmduwEU6NSdIQ3CVBRwzDyNQaZOdLEof74RSDdNlqUM0G2V4PDze0C96Qpn1sMVVtgFWDm/AunKINuRWqStUG2V6Yh0d4zzcdZYt3Zg/WanAP/tBI9x09g+3Nif9MmWUxTMJ5ta1Y8UDHuNSfpSfNlngN/odTDNGVypNlDea3lVvaiWD4oGG2+F44UdngDoILp1BXOxulJ/4aZHv9PDzBxs+fxwiNskX1mSxr8BjBh0M+w2HhTjYg25vlYRL6MMFM2TyG5P4/UUsbgl4804hqMAb9wikGaFw1uMQb3dCTt18p0Yqn7mUihwAAAABJRU5ErkJggg==",bt=t(140),Bt=t(330),Zt=t.n(Bt);const De=({log:a})=>{var o;const l=Zt.a.sanitize((o=a==null?void 0:a.payload)==null?void 0:o.text);return e.a.createElement("div",{className:"text-b1 font-normal mb-2"},l)};var ba=({logs:a})=>{const o=e.a.useRef();return e.a.useEffect(()=>{o.current&&o.current.scrollIntoView({behaviour:"smooth"})},[a]),e.a.createElement(bt.a,{open:!0,handleSubmit:()=>{},onClose:()=>{},level:null,showMask:!1,handler:!1,placement:"bottom",wrapperClassName:"w-sidebarRight deployLogDrawer"},e.a.createElement(s.x,{onClick:()=>{}}),e.a.createElement("div",{className:"flex flex-shrink-0 justify-between pr-10 py-3 px-3 border-b border-outline items-center bg-surface2"},e.a.createElement(s.H,{variant:"dhi_sub2"},"Production"," ","deploy log")),e.a.createElement("div",{className:"deploylog h-60 xxl:h-72 overflow-auto p-3"},a.filter(l=>{var g;return((g=l==null?void 0:l.payload)==null?void 0:g.text)!==""}).map(l=>{var g;return e.a.createElement(De,{log:l,key:(g=l==null?void 0:l.payload)==null?void 0:g.id})}),e.a.createElement("div",{ref:o}),e.a.createElement(De,{log:"testing"})))},La=Object.defineProperty,Ca=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,Sa=Object.prototype.propertyIsEnumerable,Oa=(a,o,l)=>o in a?La(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,ua=(a,o)=>{for(var l in o||(o={}))Ia.call(o,l)&&Oa(a,l,o[l]);if(Ca)for(var l of Ca(o))Sa.call(o,l)&&Oa(a,l,o[l]);return a},Et=({isLoading:a,handelDeploy:o,deployUrl:l,logs:g,showLogs:K,showUpdateToken:P=!1,updateToken:Q,token:v,setShowUpdateToken:A,error:R,gitConfigStatus:x={}})=>{const{currentApplicationCode:ue,currentApplicationId:te}=Object(D.d)(),ie=(x==null?void 0:x.isGitConfigured)&&(x==null?void 0:x.gitConfiguredType),j=!Object(c.isEmpty)(x==null?void 0:x.gitRepoDetails),F=!Object(c.isEmpty)(x==null?void 0:x.gitSyncLog),q=!ie||!j||!F,[Z,pe]=e.a.useState("");function O(){Z&&Q(Z)}return e.a.createElement("div",{className:"bg-surface2 px-5 py-5 rounded-3"},e.a.createElement("div",{className:""},e.a.createElement("div",{className:"flex items-center"},e.a.createElement("div",{className:"w-5 mr-2.5"},e.a.createElement("img",{src:jt,alt:"Vercel"})),e.a.createElement(s.H,{variant:"dhi_sub2",className:"font-bold"},"Deploy on Vercel")),e.a.createElement(s.w,{className:"mt-1"},ie?j?F?l?"Do you want to push DhiWise changes on vercel? Please deploy again!":"Test your react app before taking it to the production environment.":"Commit your code to Git to test your app on Vercel before taking it to the production environment.":"You can deploy on Vercel, but first require select git repository to sync your code.":"You can deploy on Vercel, but first require sync with Git.",e.a.createElement(s.K,{target:"_blank",isDocReview:!0,docDetail:{currentApplicationCode:ue,applicationId:te,docName:"Deploy on Vercel"},className:"ml-1",link:Ze.b.VercelDeploy},"Read docs!")),!P&&(l||v)?e.a.createElement("div",{className:"flex justify-between items-center mt-2"},e.a.createElement("div",{className:"bg-surface2 border-1 border-outline py-1 px-2 flex items-center rounded-3 flex-grow"},e.a.createElement(s.K,{onClick:()=>{l&&window.open(`https://${l}`)},disabled:q,className:`flex-grow sm:text-xs whitespace-pre-wrap h-4 break-all overflow-hidden  py-0.5 ${v&&"opacity-50"}`},l||v),l?e.a.createElement(s.q,{size:"small",copyData:`https://${l}`}):""),l?e.a.createElement(s.i,ua({color:"success",size:"medium",className:"flex-shrink-0 ml-2",loading:a,disabled:q},!a&&{onClick:o}),"Deploy"):e.a.createElement(s.i.Icon,ua({size:"small",className:"ml-2 flex-shrink-0",color:a?"default":"success",loading:a,disabled:q},!a&&{onClick:o}),e.a.createElement(p.b.Play,null))):"",P?e.a.createElement("div",{className:"flex items-start mt-4"},e.a.createElement(s.I.Text,{desc:e.a.createElement(s.K,{link:"https://vercel.com/support/articles/how-do-i-use-a-vercel-api-access-token#creating-an-access-token",target:"_blank",className:"ml-1"},"How to get token"),label:!1,placeholder:"Your new token",WrapClassName:"flex-grow",size:"medium",onChange:Te=>{pe(Te)},disabled:q}),e.a.createElement(s.i.Icon,ua({size:"medium",className:"ml-2 flex-shrink-0",color:a?"default":"success",loading:a,disabled:q},!a&&{onClick:O}),e.a.createElement(p.b.Play,null))):"",R?e.a.createElement(s.D,{error:R}):""),P?"":e.a.createElement("div",{className:"flex justify-between w-full mt-2"},e.a.createElement("div",{onClick:()=>{A(!0)},className:"text-dhiSecondary-400 text-xs mt-1 underline cursor-pointer"},"Change Token")),K?e.a.createElement(ba,{logs:g}):"")},Ft=Object.defineProperty,At=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,Pa=(a,o,l)=>o in a?Ft(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,_t=(a,o)=>{for(var l in o||(o={}))qt.call(o,l)&&Pa(a,l,o[l]);if(ye)for(var l of ye(o))ga.call(o,l)&&Pa(a,l,o[l]);return a},Lt=(a,o)=>At(a,Qt(o)),Pn=(a,o,l)=>new Promise((g,K)=>{var P=A=>{try{v(l.next(A))}catch(R){K(R)}},Q=A=>{try{v(l.throw(A))}catch(R){K(R)}},v=A=>A.done?g(A.value):Promise.resolve(A.value).then(P,Q);v((l=l.apply(a,o)).next())}),hn=({gitConfigStatus:a={},codeViewMixPanelLog:o=()=>{}})=>{var l,g,K,P;const[Q,v]=e.a.useState(!1),[A,R]=e.a.useState(null),[x,ue]=e.a.useState([]),[te,ie]=e.a.useState(!1),[j,F]=e.a.useState(!1),[q,Z]=e.a.useState(null),[pe,O]=e.a.useState(""),Te=e.a.useRef(),{mixPanelTrack:fe}=Object(Re.a)(),{webengageTrackEvent:Me}=Object(Y.a)(),{currentProjectDetail:ce,buildProjectData:B,currentApplicationCode:Oe,currentApplicationId:Pe,currentProjectId:rt}=Object(D.d)(),xe=(l=ce==null?void 0:ce.applicationList)==null?void 0:l.find(d=>d._id===Pe),He=(g=ce==null?void 0:ce.applicationList)==null?void 0:g.find(d=>(d==null?void 0:d._id)===Pe),ct=e.a.useRef(),Be={applicationId:Pe,buildVersion:`${(K=B==null?void 0:B.generatedProjectData)==null?void 0:K.semanticVersionNumber}.${(P=B==null?void 0:B.generatedProjectData)==null?void 0:P.versionNumber}`,technology:m.f.TECHNOLOGY[Oe]};function Ne(d){Object(Ye.c)(d).then(ge=>{ge&&Array.isArray(ge)&&(ue(ge),ge.find(ut=>{var Ve,Wt;return((Wt=(Ve=ut==null?void 0:ut.payload)==null?void 0:Ve.info)==null?void 0:Wt.readyState)==="READY"})&&(clearInterval(ct.current),v(!1),F(!1),fe(m.g.DEPLOY_APP,Lt(_t({},Be),{deployOn:m.f.DEPLOY_ON.VERCEL,executionStatus:m.f.EXECUTION_STATUS.SUCCESS})),Me(re.g.DEPLOY_APP_COMPLETED,Lt(_t({},Be),{deployOn:m.f.DEPLOY_ON.VERCEL,executionStatus:m.f.EXECUTION_STATUS.SUCCESS})),window.open(`https://${Te.current}`,"_blank")))}).catch(()=>{})}function ft(){Z(null),ue([]),v(!0),Object(It.b)(`${It.a.application.vercelDeploy}`,{applicationId:Pe},"POST",{},{},{isErrorResponse:!0}).then(d=>{var ge,We;(d==null?void 0:d.code)==="GIT_SYNC_NOT_FOUND"?(v(!1),Z(d==null?void 0:d.message),fe(m.g.DEPLOY_APP,Lt(_t({},Be),{deployOn:m.f.DEPLOY_ON.VERCEL,executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:d==null?void 0:d.message}))):(d==null?void 0:d.code)==="VERCEL_TOKEN_INVALID"?(Z(d==null?void 0:d.message),ie(!0),fe(m.g.DEPLOY_APP,Lt(_t({},Be),{deployOn:m.f.DEPLOY_ON.VERCEL,executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:d==null?void 0:d.message}))):(F(!0),ie(!1),o(),O((ge=d==null?void 0:d.data)==null?void 0:ge.alias[0]),Te.current=(We=d==null?void 0:d.data)==null?void 0:We.alias[0],ct.current=setInterval(()=>{var ut;Ne((ut=d==null?void 0:d.data)==null?void 0:ut.logs)},2e3))}).catch(d=>{(d==null?void 0:d.code)==="VERCEL_TOKEN_INVALID"&&ie(!0),fe(m.g.DEPLOY_APP,Lt(_t({},Be),{deployOn:m.f.DEPLOY_ON.VERCEL,executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:d==null?void 0:d.message})),Z(d==null?void 0:d.message),v(!1)})}const zt=d=>{var ge;v(!0);const We={applicationId:Pe,screens:((ge=He==null?void 0:He.generatedIdData)==null?void 0:ge.screenCount)||0,technology:m.f.TECHNOLOGY[Oe]};if((a==null?void 0:a.gitConfiguredType)===kt.a.GIT_HUB){const ut=we.a.get(tt.c);Object(sa.b)({companyId:ut,projectId:rt,applicationId:Pe},{isErrorCode:!0}).then(()=>{v(!1),ft(),fe(m.g.SOURCE_CODE,Lt(_t({},We),{executionStatus:m.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:m.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:He==null?void 0:He.version})),Me(re.g.DOWNLOAD_CODE_COMPLETED,Lt(_t({},We),{sourceCodeAction:m.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:He==null?void 0:He.version}))}).catch(Ve=>{if(fe(m.g.SOURCE_CODE,Lt(_t({},We),{executionStatus:m.f.EXECUTION_STATUS.FAILED,sourceCodeAction:m.f.SOURCE_CODE_ACTION.GITHUB_SYNC,generatorVersion:He==null?void 0:He.version,reason:Ve})),Ve.code==="NO_CHANGES_TO_COMMIT"&&!(d!=null&&d.isTokenChange)){v(!1),window.open(`https://${pe}`);return}Ve&&!(d!=null&&d.isTokenChange)&&(v(!1),Z(Ve==null?void 0:Ve.msg)),d!=null&&d.isTokenChange&&ft()}).finally()}else{const ut=we.a.get(tt.c);Object(sa.c)({companyId:ut,projectId:rt,applicationId:Pe},{isErrorCode:!0}).then(()=>{v(!1),ft(),fe(m.g.SOURCE_CODE,Lt(_t({},We),{executionStatus:m.f.EXECUTION_STATUS.SUCCESS,sourceCodeAction:m.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:He==null?void 0:He.version})),Me(re.g.DOWNLOAD_CODE_COMPLETED,Lt(_t({},We),{sourceCodeAction:m.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:He==null?void 0:He.version}))}).catch(Ve=>{if(fe(m.g.SOURCE_CODE,Lt(_t({},We),{executionStatus:m.f.EXECUTION_STATUS.FAILED,sourceCodeAction:m.f.SOURCE_CODE_ACTION.GITLAB_SYNC,generatorVersion:He==null?void 0:He.version,reason:Ve})),(Ve==null?void 0:Ve.code)==="NO_CHANGES_TO_COMMIT"&&!(d!=null&&d.isTokenChange)){v(!1),window.open(`https://${pe}`);return}Ve&&!(d!=null&&d.isTokenChange)&&(v(!1),Z(Ve==null?void 0:Ve.msg)),d!=null&&d.isTokenChange&&ft()}).finally()}};function ra(d="xACoZkMGoCggxVSicRGAdBP9"){return Pn(this,null,function*(){Z(null),v(!0);const ge={vercel:{personalAccessToken:d}};return Object(It.b)(`${It.a.project.url}/${rt}`,ge,"PUT",{},{},{isErrorResponse:!0}).then(We=>((We==null?void 0:We.code)==="OK"&&(R(d),pe?zt({isTokenChange:!0}):ft()),!0)).catch(We=>{Z(We==null?void 0:We.message),v(!1)})})}function ha(){Z(null),v(!0),Object(It.b)(`${It.a.project.url}/${rt}`,{},"GET",{},{},{isErrorResponse:!0}).then(d=>{var ge,We,ut,Ve;d&&((We=(ge=d==null?void 0:d.data)==null?void 0:ge.vercel)==null?void 0:We.personalAccessToken)?R((Ve=(ut=d==null?void 0:d.data)==null?void 0:ut.vercel)==null?void 0:Ve.personalAccessToken):ie(!0),v(!1)}).catch(d=>{(d==null?void 0:d.code)==="VERCEL_TOKEN_INVALID"&&(Z(d==null?void 0:d.message),fe(m.g.DEPLOY_APP,Lt(_t({},Be),{deployOn:m.f.DEPLOY_ON.VERCEL,executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:d==null?void 0:d.message}))),ie(!0),v(!1)})}return e.a.useEffect(()=>{var d,ge;(xe==null?void 0:xe.vercel)&&((d=xe==null?void 0:xe.vercel)==null?void 0:d.alias[0])&&O((ge=xe==null?void 0:xe.vercel)==null?void 0:ge.alias[0]),ha()},[]),e.a.createElement(Et,{setShowUpdateToken:ie,showUpdateToken:te,updateToken:ra,showLogs:j,logs:x,handelDeploy:pe?zt:ft,isLoading:Q,deployUrl:pe,token:A,error:q,gitConfigStatus:a})};const An=({isExportPopupOpen:a=!1,gitConfigStatus:o={},hideExportPopup:l=()=>{},isGitSyncPending:g=!1,setGitSyncPending:K=()=>{},setGitSyncCompleted:P=()=>{},showSyncWarning:Q=()=>{},codeViewMixPanelLog:v=()=>{},setGitConfigStatus:A=()=>{}})=>{var R,x,ue,te,ie,j;const{currentProjectDetail:F,currentApplicationId:q,currentApplicationCode:Z}=Object(D.d)(),pe=new URLSearchParams(window.location.search),O=pe.get("screenExportBuild"),Te=pe.get("figmaPluginCode"),fe=pe.get("isSecondaryBuild"),Me=we.a.get(tt.x),ce=Object(M.k)(Fe.a.GIT_INTEGRATION),B=(R=F==null?void 0:F.applicationList)==null?void 0:R.find(xe=>xe._id===q),Oe=(ue=(x=F==null?void 0:F.applicationList)==null?void 0:x.find(xe=>(xe==null?void 0:xe._id)===q))==null?void 0:ue.secondaryAppId,{webengageTrackEvent:Pe}=Object(Y.a)(),rt=()=>new Promise((xe,He)=>{var ct;Object(sa.d)(fe?(ct=Oe==null?void 0:Oe._id)!=null?ct:Me==null?void 0:Me._id:q).then(Be=>{A(Be==null?void 0:Be.data),xe(Be==null?void 0:Be.data)}).catch(He)});return e.a.useEffect(()=>{rt()},[]),e.a.useEffect(()=>{a&&Pe(re.g.DOWNLOAD_CODE_INITIATED,{applicationId:q,applicationName:B==null?void 0:B.displayName,technology:re.f[Z]})},[a]),e.a.createElement(s.db,{styleWrapper:Z===E.c.IOS?{width:"700px"}:!Te&&!O&&(ce==null?void 0:ce.CREATE)?{width:"1042px"}:{width:"900px"},isOpen:a,title:`${(ie=(te=B==null?void 0:B.displayName)!=null?te:B==null?void 0:B.name)!=null?ie:""} (${((j=B==null?void 0:B.generatedIdData)==null?void 0:j.screenCount)||0} screens)`,style:{padding:"24px",borderRadius:"0 0 3px 3px"},closeModal:()=>{g?Q():l()}},e.a.createElement("div",{className:`flex gap-16 items-start ${!Te&&!O&&(ce==null?void 0:ce.CREATE),""}`},Z!==E.c.IOS&&e.a.createElement("div",{className:"grid grid-cols-1 gap-5 flex-shrink-0",style:{width:"420px"}},e.a.createElement(fa,{codeViewMixPanelLog:v}),Z===E.c.figmaReact&&!O&&!Te&&e.a.createElement(e.a.Fragment,null,e.a.createElement(hn,{gitConfigStatus:o,codeViewMixPanelLog:v}))),e.a.createElement("div",{className:"grid grid-cols-1 gap-4 flex-grow"},!Te&&!O&&(ce==null?void 0:ce.CREATE)&&e.a.createElement(va.a,{gitConfigStatus:o,isSecondaryBuild:fe,secondaryAppData:Oe,getGitIntegrationDetails:rt,setGitConfigStatus:A,closeExportCodePopup:l,setGitSyncPending:K,setGitSyncCompleted:P,codeViewMixPanelLog:v}),e.a.createElement("div",{className:`bg-surface2 p-5 flex justify-between items-center rounded-3 ${Z===E.c.IOS&&"mt-10"}`},e.a.createElement(s.H,{variant:"dhi_sub2",className:"font-bold"},"Download source code"),e.a.createElement(dt.a,{fromExportCodePopup:!0,hideExportPopup:l,label:"Download",codeViewMixPanelLog:v})))))};var ya=t(57);const Tn=({currentApplicationCode:a,codeViewMixPanelLog:o=()=>{},applicationId:l,applicationName:g})=>{const K=Object(ae.h)(),{userData:P}=Object(M.e)(),[Q,v,A]=Object(Ae.a)(!1),[R,x,ue]=Object(Ae.a)(!1),[te,ie,j]=Object(Ae.a)(!1),[F,q]=e.a.useState({}),{webengageTrackEvent:Z}=Object(Y.a)(),pe=new URLSearchParams(window.location.search),O=pe.get("openDownloadCode"),Te=pe.get("isSecondaryBuild"),fe=pe.get("screenExportBuild"),Me=pe.get("figmaPluginCode");return e.a.useEffect(()=>{var ce,B;O&&(ie(),v(),Te?Te&&window.history.replaceState({},"",(B=K.pathname+K.search)==null?void 0:B.replaceAll("?isSecondaryBuild=true&openDownloadCode=true","?isSecondaryBuild=true")):window.history.replaceState({},"",(ce=K.pathname+K.search)==null?void 0:ce.replaceAll("?openDownloadCode=true","")))},[]),e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"bg-dhiPrimary-500 pl-2.5 flex items-center justify-between"},e.a.createElement("div",{className:"flex items-center py-1 flex-grow pr-1"},e.a.createElement(Ut,null),a===E.c.figmaReact&&e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"w-px h-4 bg-dhiPrimary-800 mr-4"}),e.a.createElement("div",{className:"flex items-center flex-shrink-0"},e.a.createElement(s.H,{variant:"dhi_b1"},"If you want to change the code config, please go to setting"),e.a.createElement("div",{className:"w-4 h-4 ml-2",onClick:()=>window.open(Object(ya.b)(b.G[a]))},e.a.createElement(p.b.Setting,null))))),e.a.createElement("div",{className:"flex-shrink-0"},a===E.c.IOS&&(Me||fe)?e.a.createElement(dt.a,{fromExportCodePopup:!0,label:"Download source code",className:"sm:bg-exportButton sm:rounded-none sm:text-b1",variant:"primary",codeViewMixPanelLog:o}):e.a.createElement(s.i,{className:"sm:bg-exportButton sm:rounded-none sm:text-b1",size:"medium",shape:"square",leftIcon:e.a.createElement(p.b.Download,null),onClick:()=>{v(),ue(),j(),Z(re.g.DOWNLOAD_CODE_INITIATED,{applicationId:l,technology:re.f[a],applicationName:g})}},"Sync or download code"))),e.a.createElement(An,{isExportPopupOpen:Q,hideExportPopup:A,isGitSyncPending:te,setGitSyncPending:ie,setGitSyncCompleted:j,showSyncWarning:x,gitConfigStatus:F,codeViewMixPanelLog:o,setGitConfigStatus:q}),e.a.createElement(s.o,{isOpen:R,handleSubmit:()=>{ue(),A()},title:"Are you sure you want to close?",description:Object(c.isEmpty)(F==null?void 0:F.gitRepoDetails)?"The code is not yet synced. Please select a repository to sync the application code.":"Commit to your repository is pending. Please commit, to sync the code to your repository.",okText:"Yes, close",handleClose:ue,closeModal:ue}))};var Ha=t(10),Cn=Object.defineProperty,In=Object.defineProperties,gn=Object.getOwnPropertyDescriptors,$a=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,ka=(a,o,l)=>o in a?Cn(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,lt=(a,o)=>{for(var l in o||(o={}))Rn.call(o,l)&&ka(a,l,o[l]);if($a)for(var l of $a(o))Dn.call(o,l)&&ka(a,l,o[l]);return a},gt=(a,o)=>In(a,gn(o));const Nn={[E.c.figmaReact]:["/public","/src/assets","/src/util","/src/styles"]},bn=(a,o)=>{var l;return[E.c.figmaReact].includes(o)?(l=a==null?void 0:a.filter(g=>{var K;return!((K=Nn[o])!=null&&K.some(P=>g.startsWith(P)))}))==null?void 0:l.map(g=>g==null?void 0:g.substring(1)):a==null?void 0:a.map(g=>g==null?void 0:g.substring(1))},Ua=(a,o,l,g,K,P)=>{var Q;return[E.c.androidFigma,E.c.flutter,E.c.IOS,E.c.figmaReact].includes(a)?lt({applicationId:l?(Q=g==null?void 0:g._id)!=null?Q:K==null?void 0:K._id:o},P&&{screenExportBuild:P}):{applicationId:o}};function Ln(){var a,o,l;const[g,K]=Object(D.b)(),{currentApplicationId:P,currentProjectDetail:Q,currentApplicationCode:v,buildProjectData:A}=g,R=Q==null?void 0:Q.applicationList,x=R==null?void 0:R.find(Ge=>(Ge==null?void 0:Ge._id)===P),ue=!Object(c.isEmpty)(v)&&v===E.c.nodeExpress,te=!Object(c.isEmpty)(v)&&v===E.c.figmaReact,ie=!Object(c.isEmpty)(v)&&[E.c.androidFigma,E.c.flutter,E.c.IOS].includes(v),j=!Object(c.isEmpty)(v)&&v===E.c.reactAdmin,F=(a=R==null?void 0:R.find(Ge=>(Ge==null?void 0:Ge._id)===P))==null?void 0:a.secondaryAppId,q=we.a.get(tt.x),Z=Object(Ee.e)(),pe=Object(ae.g)(),{mixPanelTrack:O}=Object(Re.a)(),{webengageTrackEvent:Te}=Object(Y.a)(),{addErrorToast:fe}=Object(M.j)(),Me=Object(M.k)(Fe.a.GIT_INTEGRATION),[ce,B,Oe]=Object(Ae.a)(!0),[Pe,rt,xe]=Object(Ae.a)(!0),[He,ct,Be]=Object(Ae.a)(!1),[Ne,ft,zt]=Object(Ae.a)(!1),[ra,ha]=Object(L.useState)(250),[d,ge]=Object(L.useState)(!1),[We,ut]=e.a.useState(""),[Ve,Wt]=e.a.useState(""),[Ue,Vt]=e.a.useState(!1),[Aa,ma]=e.a.useState({}),[ea,Ma]=e.a.useState(0),[xa,za]=e.a.useState([]),[wa,Xa]=e.a.useState(""),ja=new URLSearchParams(window.location.search),Yt=ja.get("screenExportBuild"),Ba=ja.get("figmaPluginCode"),ta=ja.get("isSecondaryBuild"),Xt=e.a.useRef(""),Wa=e.a.useRef(""),Va=e.a.useRef(""),Ga=e.a.useRef(""),Ka=e.a.useRef(""),Fa={applicationId:P,technology:m.f.TECHNOLOGY[v]};e.a.useEffect(()=>{Object(c.isEmpty)(xa)||(Ga.current=[...xa])},[xa]),e.a.useEffect(()=>{wa&&(Ka.current=wa)},[wa]),e.a.useEffect(()=>{function Ge(){Ma(window.innerWidth)}return window.addEventListener("resize",Ge),Ge(),()=>{window.removeEventListener("resize",Ge)}},[]);const Ja=()=>{const Ge=Xt.current;return new G.S3(gt(lt({},Object(c.pick)(Ge,["accessKeyId","secretAccessKey","sessionToken"])),{region:Xe.b}))},Ya=(Ge="",Tt=[])=>{var Ht,aa;Ja().listObjectsV2(gt(lt({Bucket:Xe.c},Ge&&{ContinuationToken:Ge}),{Prefix:`${(Ht=Xt.current)==null?void 0:Ht.awsKeyPath}/${(aa=R.find(W=>W._id===P))==null?void 0:aa.name}/`})).promise().then(W=>{var Ot;if(W)if(W.IsTruncated)Tt.push(W.Contents),Ya(W.NextContinuationToken,Tt.flat());else{if(!Object(c.isEmpty)(W==null?void 0:W.Contents)){const St=[...W.Contents,...Tt];K(Object(Mt.f)({projectStructure:Object(Je.b)(St,`${Xt.current.awsKeyPath}/${(Ot=R.find(mt=>mt._id===P))==null?void 0:Ot.name}`)})),Oe()}xe()}else B(),xe()}).catch(W=>{if((W==null?void 0:W.name)===Xe.a){const Ot=Ua(v,P,ta,F,q,Yt);Object(vt.a)(Ot).then(St=>{Xt.current=St.data.accessParam,Ya(Ge,Tt),K(Object(Mt.f)({currentProject:{applications:R.map(mt=>mt._id===P?gt(lt({},mt),{awsToken:St.data.accessParam||{}}):mt)}}))}).catch(St=>{B(),Xt.current={},fe(St),xe()})}else fe(W.message),B(),xe()})},Za=()=>{var Ge,Tt;Ja().getObject({Bucket:Xe.c,Key:`${(Ge=Xt.current)==null?void 0:Ge.awsFailKeyPath}/${(Tt=R.find(Rt=>Rt._id===P))==null?void 0:Tt.name}/logs/errors.log`}).promise().then(Rt=>{ut(Rt.Body.toString())}).catch(Rt=>{if((Rt==null?void 0:Rt.name)===Xe.a){const Ra=Ua(v,P,ta,F,q,Yt);Object(vt.a)(Ra).then(W=>{Xt.current=W.data.accessParam,K(Object(Mt.f)({currentProject:{applications:R.map(Ot=>Ot._id===P?gt(lt({},Ot),{awsToken:W.data.accessParam||{}}):Ot)}})),Za()}).catch(W=>{Xt.current={},fe(W)})}})};e.a.useEffect(()=>{var Ge,Tt;const Ht={applicationId:P},Rt=((Q==null?void 0:Q.applicationList)||[]).find(W=>(W==null?void 0:W._id)===P);((Ge=Rt==null?void 0:Rt.projectDefinition)==null?void 0:Ge.code)===E.c.react&&(Ht.isReact=!0,ge(!0)),Yt&&(Ht.screenExportBuild=Yt),[E.c.androidFigma,E.c.IOS].includes(v)&&ta&&(Ht.applicationId=(Tt=F==null?void 0:F._id)!=null?Tt:q==null?void 0:q._id),rt();const Ra=Ua(v,P,ta,F,q,Yt);Object(vt.a)(gt(lt({},Ra),{viewCode:!0})).then(W=>{var Ot,St,mt,Qa,qa,en,tn,an,nn,ln,on,sn,rn,cn,dn,En,un,mn,vn;if((W==null?void 0:W.code)==="OK"){const{application:U}=(Ot=W==null?void 0:W.data)==null?void 0:Ot.list;Xt.current=W.data.accessParam,(mt=(St=W==null?void 0:W.data)==null?void 0:St.accessParam)!=null&&mt.awsKeyPath?Ya():xe(),ta&&(U.secondaryAppId=Object(c.isEmpty)(q)?F:q,U._id=U==null?void 0:U.primaryAppId),Yt&&(U.generatedId=(Qa=U==null?void 0:U.screenExportBuildTrack)==null?void 0:Qa.generatedId,U.tempGeneratedId=(qa=U==null?void 0:U.screenExportBuildTrack)==null?void 0:qa.tempGeneratedId);const yn=(en=U==null?void 0:U.inProcessStatus)==null?void 0:en.build_app,pn=!![qe.c.IN_QUEUE,qe.c.IN_PROCESS].includes(yn),Un=gt(lt({},!pn&&lt({generatedProjectData:U==null?void 0:U.generatedIdData,prevGeneratedProjectData:U==null?void 0:U.tempGeneratedIdData,generatedId:(U==null?void 0:U.generatedId)||"",tempGeneratedId:(U==null?void 0:U.tempGeneratedId)||""},Yt&&{screenExportBuildTrack:(U==null?void 0:U.screenExportBuildTrack)||{}})),{statics:U==null?void 0:U.statics,generatedProjectArchitecture:U==null?void 0:U.projectType,processStep:U==null?void 0:U.processStep}),Mn=(tn=Q==null?void 0:Q.applicationList)==null?void 0:tn.map(Na=>{var _n,fn,On;return(Na==null?void 0:Na._id)===P?lt(lt(gt(lt(lt({},Na),!pn&&lt({generatedIdData:U==null?void 0:U.generatedIdData,tempGeneratedIdData:U==null?void 0:U.tempGeneratedIdData,generatedId:(U==null?void 0:U.generatedId)||"",tempGeneratedId:(U==null?void 0:U.tempGeneratedId)||""},Yt&&{screenExportBuildTrack:(U==null?void 0:U.screenExportBuildTrack)||{}})),{statics:U==null?void 0:U.statics,generatedProjectArchitecture:U==null?void 0:U.projectType,projectType:U==null?void 0:U.projectType,processStep:U==null?void 0:U.processStep,awsToken:W.data.accessParam||{},version:(On=(fn=(_n=W==null?void 0:W.data)==null?void 0:_n.list)==null?void 0:fn.application)==null?void 0:On.version}),(ue||j)&&{output:U==null?void 0:U.output}),ta&&{secondaryAppId:Object(c.isEmpty)(q)?F:q}):Na});K(Object(Mt.f)(gt(lt({},Un),{currentProject:{applications:Mn}}))),Z(Object(Qe.b)()),!Ba&&[E.c.nodeExpress,E.c.reactAdmin,E.c.laravel].includes(v)&&(we.a.remove("currentBuildData"),we.a.set("currentBuildData",gt(lt({},U),{awsToken:W.data.accessParam||{}})));const Da=(ln=(nn=(an=W==null?void 0:W.data)==null?void 0:an.list)==null?void 0:nn.application)==null?void 0:ln.generatedIdData;Wa.current=(un=(En=(dn=(cn=(rn=(sn=(on=W==null?void 0:W.data)==null?void 0:on.accessParam)==null?void 0:sn.awsKeyPath)==null?void 0:rn.split("/appVersion/"))==null?void 0:cn.pop())==null?void 0:dn.split("/output"))==null?void 0:En[0])!=null?un:`${Da==null?void 0:Da.semanticVersionNumber}.${Da==null?void 0:Da.versionNumber}`,Va.current=(vn=(mn=W==null?void 0:W.data)==null?void 0:mn.flutterBuilderVersion)!=null?vn:"",Xa(ne()(new Date))}}).catch(()=>{B(),j?Object(I.q)(x==null?void 0:x.parentId).then(W=>{if(W.code==="OK"){const{errorInDataConfig:Ot,errorInConfiguration:St}=Object(pt.a)(W.data),mt={isOpen:!1,link:"",message:""};if(Ot&&(mt.message="Please configure model config.",mt.link=Object(ya.b)(Ha.f.dataConfig,P),mt.isOpen=!0),St&&(mt.message=Ot?"Please configure model and layout config.":"Please configure layout config",mt.link=Object(ya.b)(Ha.f.layoutConfig,P),mt.isOpen=!0),ma(mt),Ot||St)return;!A.generatedId&&!A.tempGeneratedId&&ct()}else fe(W.message)}).catch(W=>{fe(W==null?void 0:W.message)}):!A.generatedId&&!A.tempGeneratedId&&!Ba&&!Yt&&!ta&&ct(),O(m.g.VIEW_CODE,gt(lt({},Fa),{executionStatus:m.f.EXECUTION_STATUS.FAILED,reason:"Code View failed"})),xe()})},[P,j]),e.a.useEffect(()=>{!Pe&&(Ne||!(A!=null&&A.generatedId)&&(A==null?void 0:A.tempGeneratedId))&&Za()},[Ne,Pe,A==null?void 0:A.tempGeneratedId,A==null?void 0:A.generatedId]);const ca=(Ge=!1)=>{var Tt,Ht;const aa=Number((Ht=(Tt=ne()(new Date))==null?void 0:Tt.diff(Ka.current,"minute",!0))==null?void 0:Ht.toFixed(2));if(Ka.current&&aa&&(!Ge||Ge&&document.visibilityState==="hidden")){const Rt=bn(Ga.current,v);O(m.g.VIEW_CODE,gt(lt(gt(lt({},Fa),{fileName:Rt,duration:aa,buildVersion:Wa.current}),Va.current&&{platformVersion:"2.0"}),{executionStatus:m.f.EXECUTION_STATUS.SUCCESS})),Te(re.g.CODE_VIEW_COMPLETED,lt(gt(lt({},Fa),{fileName:Rt,duration:aa,buildVersion:Wa.current}),Va.current&&{platformVersion:"2.0"})),Xa(ne()(new Date)),za([Object(c.last)(Ga.current)])}};e.a.useEffect(()=>(window.addEventListener("pagehide",ca),window.addEventListener("visibilitychange",()=>ca(!0)),()=>{window.removeEventListener("pagehide",ca),window.removeEventListener("visibilitychange",()=>ca(!0))}),[]);const Sn=()=>{pe.push(Aa.link),ma({})};return e.a.createElement(e.a.Fragment,null,e.a.createElement(H.a,{hideHeader:!0},e.a.createElement(n.a,null,e.a.createElement("meta",{name:"viewport",content:"width=1200, initial-scale=0, maximum-scale=0,user-scalable=0"}),e.a.createElement("title",null,"DhiWise | View"," ",m.f.TECHNOLOGY[v]," ","code")),e.a.createElement("div",{className:"w-full flex flex-col"},Pe&&e.a.createElement(s.S,null),!Pe&&(!A.generatedId&&A.tempGeneratedId?e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"relative flex justify-between"},e.a.createElement(s.g,{className:"relative codeBradCrumb"},e.a.createElement(s.h,{title:(l=(o=x==null?void 0:x.displayName)!=null?o:x==null?void 0:x.name)!=null?l:"",isRightArrow:!0}),e.a.createElement(s.h,{title:"errors.log"}))),e.a.createElement(s.m,{value:We,readOnly:!0})):e.a.createElement(_e.a,{isReact:d,isAdmin:j},ce?e.a.createElement(e.a.Fragment,null,e.a.createElement(s.Y,{title:"Code is not generated yet.",description:e.a.createElement(e.a.Fragment,null,"Please, try again in a few minutes.")}),e.a.createElement(Nt.a,{isOpen:He,closeBuildPopUp:Be})):e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"flex relative w-full h-full"},e.a.createElement(i.a,{onChange:ha,split:"vertical",minSize:250,maxSize:ea*75/100,defaultSize:250},e.a.createElement("div",{className:"h-full leftFolder"},e.a.createElement(be,{setVisitedFiles:za})),e.a.createElement("div",{className:"flex flex-col h-full",style:{width:j?`calc(100vw - ${ra}px)`:`calc(100vw - ${ra}px)`}},e.a.createElement(Pt,null)))),(te||ie)&&e.a.createElement(Tn,{currentApplicationCode:v,codeViewMixPanelLog:ca,applicationId:P,applicationName:x==null?void 0:x.applicationName}),!te&&!ie&&e.a.createElement("div",{className:"mt-1 bg-surface2 flex justify-between codeBottom "},e.a.createElement("div",{className:"flex items-center"},e.a.createElement(Ut,null),(A==null?void 0:A.tempGeneratedId)&&e.a.createElement(s.i,{color:"danger",size:"medium",className:"ml-2",shape:"square",onClick:ft},"Build error")),e.a.createElement("div",{className:"flex items-center p-1"},(ue||j)&&e.a.createElement(je,null),e.a.createElement(dt.a,{size:"medium",codeViewMixPanelLog:ca}),!Ba&&!Yt&&(Me==null?void 0:Me.CREATE)&&e.a.createElement(nt.a,{isSecondaryBuild:ta,secondaryAppData:F,codeViewMixPanelLog:ca})))))))),Ne&&e.a.createElement(ze.a,{isOpen:Ne,onClose:zt,errorLog:We,title:"Build Error"}),e.a.createElement(s.o,{title:"",description:Ve,isOpen:!!Ve,handleSubmit:()=>Wt(""),color:"default",okText:"Ok"}),e.a.createElement(s.o,{title:"",description:Ve,isOpen:Ue,handleSubmit:()=>Vt(!1),color:"default",okText:"Ok"}),e.a.createElement(s.o,{title:"Incomplete configuration",isOpen:Aa.isOpen,handleClose:()=>ma({}),closeModal:()=>ma({}),handleSubmit:Sn,color:"default",okText:"Start config",description:Aa.message}))}}}]);
